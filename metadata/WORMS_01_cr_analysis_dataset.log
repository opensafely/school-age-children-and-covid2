2021-07-20T15:39:46.900469400Z 
2021-07-20T15:39:46.900501900Z   ___  ____  ____  ____  ____ (R)
2021-07-20T15:39:46.900507400Z  /__    /   ____/   /   ____/
2021-07-20T15:39:46.900510800Z ___/   /   /___/   /   /___/   16.1   Copyright 1985-2019 StataCorp LLC
2021-07-20T15:39:46.900514300Z   Statistics/Data Analysis            StataCorp
2021-07-20T15:39:46.900517600Z                                       4905 Lakeway Drive
2021-07-20T15:39:46.900521300Z                                       College Station, Texas 77845 USA
2021-07-20T15:39:46.900524300Z                                       800-STATA-PC        http://www.stata.com
2021-07-20T15:39:46.900527200Z                                       979-696-4600        stata@stata.com
2021-07-20T15:39:46.900530100Z                                       979-696-4601 (fax)
2021-07-20T15:39:46.900532900Z 
2021-07-20T15:39:46.900535500Z 3-user Stata network license expires 11 May 2022:
2021-07-20T15:39:46.900549700Z        Serial number:  501709312237
2021-07-20T15:39:46.900574100Z          Licensed to:  The Bennett Institute
2021-07-20T15:39:46.900578800Z                        Oxford University
2021-07-20T15:39:46.901247500Z 
2021-07-20T15:39:46.901263300Z Notes:
2021-07-20T15:39:46.901267500Z       1.  Unicode is supported; see help unicode_advice.
2021-07-20T15:39:46.901270700Z 
2021-07-20T15:39:46.901274100Z . do "analysis/WORMS_01_cr_analysis_dataset.wrapper.do" 
2021-07-20T15:39:46.901278000Z 
2021-07-20T15:39:46.901281300Z . . do "analysis/WORMS_01_cr_analysis_dataset.do" 
2021-07-20T15:39:46.901284700Z 
2021-07-20T15:39:46.901288000Z . /*===========================================================================
2021-07-20T15:39:46.901291400Z > ===
2021-07-20T15:39:46.901294900Z > DO FILE NAME:                   WORMS_01_cr_analysis_dataset
2021-07-20T15:39:46.901298500Z > PROJECT:                                Exposure children and COVID risk
2021-07-20T15:39:46.901301800Z > DATE:                                   25th June 2020
2021-07-20T15:39:46.901305200Z > AUTHOR:                                 Harriet Forbes adapted from A Wong, A
2021-07-20T15:39:46.901308600Z >  Schultze, C Rentsch,
2021-07-20T15:39:46.901311700Z >                                                  K Baskharan, E Williamson
2021-07-20T15:39:46.901315000Z > DESCRIPTION OF FILE:    program 00, data management for project
2021-07-20T15:39:46.901318300Z >                                                 reformat variables
2021-07-20T15:39:46.901321600Z >                                                 categorise variables
2021-07-20T15:39:46.901324900Z >                                                 label variables
2021-07-20T15:39:46.901328500Z >                                                 apply exclusion criteria
2021-07-20T15:39:46.901339900Z > DATASETS USED:                  data in memory (from analysis/input.csv)
2021-07-20T15:39:46.901344200Z > DATASETS CREATED:               none
2021-07-20T15:39:46.901347600Z > OTHER OUTPUT:                   logfiles, printed to folder analysis/$logdir
2021-07-20T15:39:46.901351300Z > 
2021-07-20T15:39:46.901355000Z > =============================================================================
2021-07-20T15:39:46.901359000Z > =*/
2021-07-20T15:39:46.901362100Z . global outdir     "output"
2021-07-20T15:39:46.901365500Z 
2021-07-20T15:39:46.901368700Z . global logdir     "log"
2021-07-20T15:39:46.901372000Z 
2021-07-20T15:39:46.901375400Z . global tempdir    "tempdata"
2021-07-20T15:39:46.901378800Z 
2021-07-20T15:39:46.901381800Z . 
2021-07-20T15:39:46.901384600Z . * Open a log file
2021-07-20T15:39:46.901387600Z . cap log close
2021-07-20T15:39:46.901390600Z 
2021-07-20T15:39:46.901393800Z . log using $logdir/WORMS_01_cr_analysis_dataset, replace t
2021-07-20T15:39:46.901399900Z (note: file /workspace/log/WORMS_01_cr_analysis_dataset.log not found)
2021-07-20T15:39:46.901524700Z -------------------------------------------------------------------------------
2021-07-20T15:39:46.901558900Z       name:  <unnamed>
2021-07-20T15:39:46.901564400Z        log:  /workspace/log/WORMS_01_cr_analysis_dataset.log
2021-07-20T15:39:46.901568100Z   log type:  text
2021-07-20T15:39:46.901571200Z  opened on:  20 Jul 2021, 15:39:46
2021-07-20T15:39:46.901574400Z 
2021-07-20T15:39:46.901577700Z . 
2021-07-20T15:39:46.901581400Z . /* CONVERT STRINGS TO DATE===================================================
2021-07-20T15:39:46.901584900Z > =*/
2021-07-20T15:39:46.901588400Z . /* Comorb dates dates are given with month only, so adding day
2021-07-20T15:39:46.901591800Z > 15 to enable  them to be processed as dates                                  
2021-07-20T15:39:46.901595100Z >                                                      */
2021-07-20T15:39:46.901672100Z . *Import dataset into STATA
2021-07-20T15:39:46.901679700Z . import delimited "output/input_worms.csv", clear
2021-07-20T15:39:47.841202100Z (50 vars, 30,000 obs)
2021-07-20T15:39:47.841219300Z 
2021-07-20T15:39:47.841222300Z . 
2021-07-20T15:39:47.841224600Z . *cr date for diabetes based on adjudicated type
2021-07-20T15:39:47.841227000Z . gen diabetes=type1_diabetes if diabetes_type=="T1DM"
2021-07-20T15:39:47.848996000Z (29,816 missing values generated)
2021-07-20T15:39:47.849013600Z 
2021-07-20T15:39:47.849030000Z . replace diabetes=type2_diabetes if diabetes_type=="T2DM"
2021-07-20T15:39:47.852222400Z (1,165 real changes made)
2021-07-20T15:39:47.852247800Z 
2021-07-20T15:39:47.852253100Z . replace diabetes=unknown_diabetes if diabetes_type=="UNKNOWN_DM"
2021-07-20T15:39:47.855706800Z (118 real changes made)
2021-07-20T15:39:47.855763100Z 
2021-07-20T15:39:47.855765700Z . 
2021-07-20T15:39:47.855767800Z . drop type1_diabetes type2_diabetes unknown_diabetes
2021-07-20T15:39:47.857292100Z 
2021-07-20T15:39:47.857306900Z . 
2021-07-20T15:39:47.857311500Z . foreach var of varlist  chronic_respiratory_disease ///
2021-07-20T15:39:47.857339700Z >                                                 chronic_cardiac_disease  ///
2021-07-20T15:39:47.857350900Z >                                                 diabetes  ///
2021-07-20T15:39:47.857354400Z >                                                 cancer_haem  ///
2021-07-20T15:39:47.857356500Z >                                                 cancer_nonhaem  ///
2021-07-20T15:39:47.857358700Z >                                                 permanent_immunodeficiency  /
2021-07-20T15:39:47.857360700Z > //
2021-07-20T15:39:47.857362600Z >                                                 temporary_immunodeficiency  /
2021-07-20T15:39:47.857364700Z > //
2021-07-20T15:39:47.857366700Z >                                                 dialysis                     
2021-07-20T15:39:47.857368800Z >                    ///
2021-07-20T15:39:47.857370800Z >                                                 kidney_transplant            
2021-07-20T15:39:47.857373000Z >            ///
2021-07-20T15:39:47.857375700Z >                                                 other_transplant             
2021-07-20T15:39:47.857377700Z >            ///
2021-07-20T15:39:47.857379600Z >                                                 asplenia                     
2021-07-20T15:39:47.857381700Z >    ///
2021-07-20T15:39:47.857383700Z >                                                 chronic_liver_disease  ///
2021-07-20T15:39:47.857385800Z >                                                 other_neuro  ///
2021-07-20T15:39:47.857387900Z >                                                 stroke_dementia              
2021-07-20T15:39:47.857390000Z >            ///
2021-07-20T15:39:47.857391900Z >                                                 esrf  ///
2021-07-20T15:39:47.857393900Z >                                                 hypertension  ///
2021-07-20T15:39:47.857395900Z >                                                 ra_sle_psoriasis  ///
2021-07-20T15:39:47.857397900Z >                                                 bmi_date_measured   ///
2021-07-20T15:39:47.857407700Z >                                                 bp_sys_date_measured   ///
2021-07-20T15:39:47.857410000Z >                                                 bp_dias_date_measured   ///
2021-07-20T15:39:47.857412200Z >                                                 creatinine_date  ///
2021-07-20T15:39:47.857414300Z >                                                 smoking_status_date ///
2021-07-20T15:39:47.857416300Z >                                                 dereg_date ///
2021-07-20T15:39:47.857418300Z >                                                 worms ///
2021-07-20T15:39:47.857420200Z >                                                 {
2021-07-20T15:39:47.857422200Z   2. 
2021-07-20T15:39:47.857424300Z .                 capture confirm string variable `var'
2021-07-20T15:39:47.857426300Z   3.                 if _rc!=0 {
2021-07-20T15:39:47.857428400Z   4.                         assert `var'==.
2021-07-20T15:39:47.857431200Z   5.                         rename `var' `var'_date
2021-07-20T15:39:47.857433300Z   6.                 }
2021-07-20T15:39:47.857435200Z   7. 
2021-07-20T15:39:47.857437100Z .                 else {
2021-07-20T15:39:47.857439000Z   8.                                 replace `var' = `var' + "-15"
2021-07-20T15:39:47.857441300Z   9.                                 rename `var' `var'_dstr
2021-07-20T15:39:47.857443400Z  10.                                 replace `var'_dstr = " " if `var'_dstr == 
2021-07-20T15:39:47.857445600Z > "-15"
2021-07-20T15:39:47.857447700Z  11.                                 gen `var'_date = date(`var'_dstr, "YMD")
2021-07-20T15:39:47.857449800Z  12.                                 order `var'_date, after(`var'_dstr)
2021-07-20T15:39:47.857451800Z  13.                                 drop `var'_dstr
2021-07-20T15:39:47.857453800Z  14.                 }
2021-07-20T15:39:47.857455700Z  15. 
2021-07-20T15:39:47.857457600Z .         format `var'_date %td
2021-07-20T15:39:47.857459700Z  16. }
2021-07-20T15:39:47.870775800Z variable chronic_respiratory_disease was str7 now str10
2021-07-20T15:39:47.870797500Z (30,000 real changes made)
2021-07-20T15:39:47.918468800Z (24,000 real changes made)
2021-07-20T15:39:47.918498700Z (24,000 missing values generated)
2021-07-20T15:39:47.948470000Z variable chronic_cardiac_disease was str7 now str10
2021-07-20T15:39:47.948495300Z (30,000 real changes made)
2021-07-20T15:39:47.988684800Z (24,000 real changes made)
2021-07-20T15:39:47.988706600Z (24,000 missing values generated)
2021-07-20T15:39:47.988710100Z variable diabetes was str7 now str10
2021-07-20T15:39:47.988712300Z (30,000 real changes made)
2021-07-20T15:39:48.022879100Z (28,533 real changes made)
2021-07-20T15:39:48.022899600Z (28,533 missing values generated)
2021-07-20T15:39:48.022904200Z variable cancer_haem was str7 now str10
2021-07-20T15:39:48.022908100Z (30,000 real changes made)
2021-07-20T15:39:48.059970800Z (24,000 real changes made)
2021-07-20T15:39:48.059989500Z (24,000 missing values generated)
2021-07-20T15:39:48.059993200Z variable cancer_nonhaem was str7 now str10
2021-07-20T15:39:48.059996400Z (30,000 real changes made)
2021-07-20T15:39:48.094999700Z (24,000 real changes made)
2021-07-20T15:39:48.095017800Z (24,000 missing values generated)
2021-07-20T15:39:48.095021000Z variable permanent_immunodeficiency was str7 now str10
2021-07-20T15:39:48.095023300Z (30,000 real changes made)
2021-07-20T15:39:48.127463600Z (24,000 real changes made)
2021-07-20T15:39:48.127484100Z (24,000 missing values generated)
2021-07-20T15:39:48.127488900Z variable temporary_immunodeficiency was str7 now str10
2021-07-20T15:39:48.127492800Z (30,000 real changes made)
2021-07-20T15:39:48.163308900Z (24,000 real changes made)
2021-07-20T15:39:48.163328200Z (24,000 missing values generated)
2021-07-20T15:39:48.163331100Z variable dialysis was str7 now str10
2021-07-20T15:39:48.163333300Z (30,000 real changes made)
2021-07-20T15:39:48.201251000Z (24,000 real changes made)
2021-07-20T15:39:48.201272000Z (24,000 missing values generated)
2021-07-20T15:39:48.201276500Z variable kidney_transplant was str7 now str10
2021-07-20T15:39:48.201280300Z (30,000 real changes made)
2021-07-20T15:39:48.235950300Z (24,000 real changes made)
2021-07-20T15:39:48.235966900Z (24,000 missing values generated)
2021-07-20T15:39:48.235969900Z variable other_transplant was str7 now str10
2021-07-20T15:39:48.235972100Z (30,000 real changes made)
2021-07-20T15:39:48.269838100Z (24,000 real changes made)
2021-07-20T15:39:48.269871200Z (24,000 missing values generated)
2021-07-20T15:39:48.269877500Z variable asplenia was str7 now str10
2021-07-20T15:39:48.269880900Z (30,000 real changes made)
2021-07-20T15:39:48.301615100Z (24,000 real changes made)
2021-07-20T15:39:48.301636000Z (24,000 missing values generated)
2021-07-20T15:39:48.301640200Z variable chronic_liver_disease was str7 now str10
2021-07-20T15:39:48.301643600Z (30,000 real changes made)
2021-07-20T15:39:48.334874300Z (24,000 real changes made)
2021-07-20T15:39:48.334891900Z (24,000 missing values generated)
2021-07-20T15:39:48.334894700Z variable other_neuro was str7 now str10
2021-07-20T15:39:48.334896800Z (30,000 real changes made)
2021-07-20T15:39:48.367346500Z (24,000 real changes made)
2021-07-20T15:39:48.367381200Z (24,000 missing values generated)
2021-07-20T15:39:48.367386600Z variable stroke_dementia was str7 now str10
2021-07-20T15:39:48.367390200Z (30,000 real changes made)
2021-07-20T15:39:48.400348200Z (24,000 real changes made)
2021-07-20T15:39:48.400366100Z (24,000 missing values generated)
2021-07-20T15:39:48.400369000Z variable esrf was str7 now str10
2021-07-20T15:39:48.400371200Z (30,000 real changes made)
2021-07-20T15:39:48.430750100Z (24,000 real changes made)
2021-07-20T15:39:48.430767600Z (24,000 missing values generated)
2021-07-20T15:39:48.430770400Z variable hypertension was str7 now str10
2021-07-20T15:39:48.430772500Z (30,000 real changes made)
2021-07-20T15:39:48.458461900Z (24,000 real changes made)
2021-07-20T15:39:48.458479600Z (24,000 missing values generated)
2021-07-20T15:39:48.458484000Z variable ra_sle_psoriasis was str7 now str10
2021-07-20T15:39:48.458487500Z (30,000 real changes made)
2021-07-20T15:39:48.491580600Z (24,000 real changes made)
2021-07-20T15:39:48.491598900Z (24,000 missing values generated)
2021-07-20T15:39:48.491602100Z variable bmi_date_measured was str7 now str10
2021-07-20T15:39:48.491604200Z (30,000 real changes made)
2021-07-20T15:39:48.530768300Z (1,500 real changes made)
2021-07-20T15:39:48.530790900Z (1,500 missing values generated)
2021-07-20T15:39:48.530794200Z variable bp_sys_date_measured was str7 now str10
2021-07-20T15:39:48.530796400Z (30,000 real changes made)
2021-07-20T15:39:48.569060000Z (1,500 real changes made)
2021-07-20T15:39:48.569081600Z (1,500 missing values generated)
2021-07-20T15:39:48.569085700Z variable bp_dias_date_measured was str7 now str10
2021-07-20T15:39:48.569088900Z (30,000 real changes made)
2021-07-20T15:39:48.610241000Z (1,500 real changes made)
2021-07-20T15:39:48.610260400Z (1,500 missing values generated)
2021-07-20T15:39:48.610264500Z variable creatinine_date was str7 now str10
2021-07-20T15:39:48.610267800Z (30,000 real changes made)
2021-07-20T15:39:48.647608200Z (1,500 real changes made)
2021-07-20T15:39:48.647623900Z (1,500 missing values generated)
2021-07-20T15:39:48.647626700Z variable smoking_status_date was str7 now str10
2021-07-20T15:39:48.647628900Z (30,000 real changes made)
2021-07-20T15:39:48.679204900Z (24,300 real changes made)
2021-07-20T15:39:48.679250200Z (24,300 missing values generated)
2021-07-20T15:39:48.679257800Z variable dereg_date was str7 now str10
2021-07-20T15:39:48.679262600Z (30,000 real changes made)
2021-07-20T15:39:48.710391700Z (29,827 real changes made)
2021-07-20T15:39:48.710455700Z (29,827 missing values generated)
2021-07-20T15:39:48.710472100Z variable worms was str7 now str10
2021-07-20T15:39:48.710476600Z (30,000 real changes made)
2021-07-20T15:39:48.733427700Z (24,000 real changes made)
2021-07-20T15:39:48.733458200Z (24,000 missing values generated)
2021-07-20T15:39:48.733463700Z 
2021-07-20T15:39:48.733467300Z . 
2021-07-20T15:39:48.733470700Z . * Recode to dates from the strings
2021-07-20T15:39:48.733474100Z . foreach var of varlist  died_date_ons                           {
2021-07-20T15:39:48.733477600Z   2. 
2021-07-20T15:39:48.733480700Z .         confirm string variable `var'
2021-07-20T15:39:48.733483800Z   3.         rename `var' `var'_dstr
2021-07-20T15:39:48.733486800Z   4.         gen `var' = date(`var'_dstr, "YMD")
2021-07-20T15:39:48.733490000Z   5.         drop `var'_dstr
2021-07-20T15:39:48.733493300Z   6.         format `var' %td
2021-07-20T15:39:48.733496500Z   7. 
2021-07-20T15:39:48.733499500Z . }
2021-07-20T15:39:48.746280800Z (24,109 missing values generated)
2021-07-20T15:39:48.746303200Z 
2021-07-20T15:39:48.746307100Z . 
2021-07-20T15:39:48.746310000Z . /*Tab all variables in initial extract*/
2021-07-20T15:39:48.746313500Z . sum, d f
2021-07-20T15:39:48.748711400Z 
2021-07-20T15:39:48.748732800Z                        dereg_date_date
2021-07-20T15:39:48.748737500Z -------------------------------------------------------------
2021-07-20T15:39:48.748741100Z       Percentiles      Smallest
2021-07-20T15:39:48.748744600Z  1%    15feb2020      15feb2020
2021-07-20T15:39:48.748748000Z  5%    15feb2020      15feb2020
2021-07-20T15:39:48.748751600Z 10%    15mar2020      15feb2020       Obs                 173
2021-07-20T15:39:48.748754900Z 25%    15may2020      15feb2020       Sum of Wgt.         173
2021-07-20T15:39:48.748758300Z 
2021-07-20T15:39:48.748761400Z 50%    15oct2020                      Mean          02oct2020
2021-07-20T15:39:48.748764900Z                         Largest       Std. Dev.      146.9933
2021-07-20T15:39:48.748768400Z 75%    15feb2021      15jun2021
2021-07-20T15:39:48.759074600Z 90%    15apr2021      15jul2021       Variance       21607.02
2021-07-20T15:39:48.759098300Z 95%    15may2021      15jul2021       Skewness       .1132515
2021-07-20T15:39:48.759102000Z 99%    15jul2021      15jul2021       Kurtosis       1.889363
2021-07-20T15:39:48.759105300Z 
2021-07-20T15:39:48.759108300Z                          worms_date
2021-07-20T15:39:48.759111300Z -------------------------------------------------------------
2021-07-20T15:39:48.759114500Z       Percentiles      Smallest
2021-07-20T15:39:48.759136700Z  1%    15feb2019      15feb2019
2021-07-20T15:39:48.759140200Z  5%    15mar2019      15feb2019
2021-07-20T15:39:48.759143700Z 10%    15apr2019      15feb2019       Obs               6,000
2021-07-20T15:39:48.759146900Z 25%    15sep2019      15feb2019       Sum of Wgt.       6,000
2021-07-20T15:39:48.759150100Z 
2021-07-20T15:39:48.777339900Z 50%    15may2020                      Mean          28apr2020
2021-07-20T15:39:48.777361400Z                         Largest       Std. Dev.       262.357
2021-07-20T15:39:48.777365800Z 75%    15dec2020      15jul2021
2021-07-20T15:39:48.777369300Z 90%    15apr2021      15jul2021       Variance       68831.22
2021-07-20T15:39:48.777372700Z 95%    15jun2021      15jul2021       Skewness      -.0086595
2021-07-20T15:39:48.777376000Z 99%    15jul2021      15jul2021       Kurtosis       1.783839
2021-07-20T15:39:48.777379800Z 
2021-07-20T15:39:48.777383100Z                        ethnicity_date
2021-07-20T15:39:48.777386300Z -------------------------------------------------------------
2021-07-20T15:39:48.777390000Z       Percentiles      Smallest
2021-07-20T15:39:48.777393200Z  1%         1970           1970
2021-07-20T15:39:48.779112500Z  5%         1972           1970
2021-07-20T15:39:48.779126700Z 10%         1975           1970       Obs              22,500
2021-07-20T15:39:48.779130700Z 25%         1983           1970       Sum of Wgt.      22,500
2021-07-20T15:39:48.779133700Z 
2021-07-20T15:39:48.779136500Z 50%         1995                      Mean           1995.307
2021-07-20T15:39:48.779139400Z                         Largest       Std. Dev.      14.83522
2021-07-20T15:39:48.779142300Z 75%         2008           2021
2021-07-20T15:39:48.779145100Z 90%         2016           2021       Variance       220.0838
2021-07-20T15:39:48.779148100Z 95%         2018           2021       Skewness      -.0040205
2021-07-20T15:39:48.779150900Z 99%         2021           2021       Kurtosis         1.8085
2021-07-20T15:39:48.779153700Z 
2021-07-20T15:39:48.808785700Z                    bmi_date_measured_date
2021-07-20T15:39:48.808807900Z -------------------------------------------------------------
2021-07-20T15:39:48.808811800Z       Percentiles      Smallest
2021-07-20T15:39:48.808814800Z  1%    15jun1970      15jan1970
2021-07-20T15:39:48.808817600Z  5%    15jul1972      15jan1970
2021-07-20T15:39:48.808820400Z 10%    15mar1975      15jan1970       Obs              28,500
2021-07-20T15:39:48.808823500Z 25%    15feb1983      15jan1970       Sum of Wgt.      28,500
2021-07-20T15:39:48.808826400Z 
2021-07-20T15:39:48.808829200Z 50%    15dec1995                      Mean          25nov1995
2021-07-20T15:39:48.808832100Z                         Largest       Std. Dev.      5434.622
2021-07-20T15:39:48.808849700Z 75%    15nov2008      15jul2021
2021-07-20T15:39:48.841737800Z 90%    15jun2016      15jul2021       Variance       2.95e+07
2021-07-20T15:39:48.841761000Z 95%    15dec2018      15jul2021       Skewness      -.0121147
2021-07-20T15:39:48.841765300Z 99%    15jan2021      15jul2021       Kurtosis       1.802886
2021-07-20T15:39:48.841773600Z 
2021-07-20T15:39:48.841776800Z                   bp_sys_date_measured_date
2021-07-20T15:39:48.841780100Z -------------------------------------------------------------
2021-07-20T15:39:48.841783200Z       Percentiles      Smallest
2021-07-20T15:39:48.841786100Z  1%    15jun1970      15jan1970
2021-07-20T15:39:48.841788900Z  5%    15jun1972      15jan1970
2021-07-20T15:39:48.841793700Z 10%    15jan1975      15jan1970       Obs              28,500
2021-07-20T15:39:48.841799700Z 25%    15jun1982      15jan1970       Sum of Wgt.      28,500
2021-07-20T15:39:48.841802800Z 
2021-07-20T15:39:48.878045400Z 50%    15aug1994                      Mean          02aug1994
2021-07-20T15:39:48.878069500Z                         Largest       Std. Dev.       5164.91
2021-07-20T15:39:48.878074000Z 75%    15nov2006      15jan2019
2021-07-20T15:39:48.878077100Z 90%    15apr2014      15jan2019       Variance       2.67e+07
2021-07-20T15:39:48.878079300Z 95%    15aug2016      15jan2019       Skewness       .0013334
2021-07-20T15:39:48.878081600Z 99%    15aug2018      15jan2019       Kurtosis       1.806678
2021-07-20T15:39:48.878083800Z 
2021-07-20T15:39:48.878085900Z                  bp_dias_date_measured_date
2021-07-20T15:39:48.878088000Z -------------------------------------------------------------
2021-07-20T15:39:48.878090100Z       Percentiles      Smallest
2021-07-20T15:39:48.878092000Z  1%    15jun1970      15jan1970
2021-07-20T15:39:48.878094000Z  5%    15jul1972      15jan1970
2021-07-20T15:39:48.878096000Z 10%    15dec1974      15jan1970       Obs              28,500
2021-07-20T15:39:48.878098000Z 25%    15apr1982      15jan1970       Sum of Wgt.      28,500
2021-07-20T15:39:48.878100200Z 
2021-07-20T15:39:48.878102200Z 50%    15jun1994                      Mean          23jul1994
2021-07-20T15:39:48.878104400Z                         Largest       Std. Dev.      5181.782
2021-07-20T15:39:48.878106500Z 75%    15dec2006      15jan2019
2021-07-20T15:39:48.878108400Z 90%    15apr2014      15jan2019       Variance       2.69e+07
2021-07-20T15:39:48.878110400Z 95%    15jul2016      15jan2019       Skewness       .0013128
2021-07-20T15:39:48.904170300Z 99%    15jul2018      15jan2019       Kurtosis        1.79403
2021-07-20T15:39:48.904194000Z 
2021-07-20T15:39:48.904198600Z                     creatinine_date_date
2021-07-20T15:39:48.904219400Z -------------------------------------------------------------
2021-07-20T15:39:48.904224400Z       Percentiles      Smallest
2021-07-20T15:39:48.904227700Z  1%    15mar2018      15mar2018
2021-07-20T15:39:48.904230500Z  5%    15mar2018      15mar2018
2021-07-20T15:39:48.904233700Z 10%    15apr2018      15mar2018       Obs              28,500
2021-07-20T15:39:48.904237200Z 25%    15may2018      15mar2018       Sum of Wgt.      28,500
2021-07-20T15:39:48.904240500Z 
2021-07-20T15:39:48.904243700Z 50%    15aug2018                      Mean          15aug2018
2021-07-20T15:39:48.904247100Z                         Largest       Std. Dev.        96.773
2021-07-20T15:39:48.904250600Z 75%    15nov2018      15jan2019
2021-07-20T15:39:48.910909400Z 90%    15dec2018      15jan2019       Variance       9365.013
2021-07-20T15:39:48.910927500Z 95%    15jan2019      15jan2019       Skewness       -.011788
2021-07-20T15:39:48.910930400Z 99%    15jan2019      15jan2019       Kurtosis       1.779354
2021-07-20T15:39:48.910932500Z 
2021-07-20T15:39:48.910934500Z                   smoking_status_date_date
2021-07-20T15:39:48.910936500Z -------------------------------------------------------------
2021-07-20T15:39:48.910938800Z       Percentiles      Smallest
2021-07-20T15:39:48.910940800Z  1%    15aug1970      15jan1970
2021-07-20T15:39:48.910942700Z  5%    15jun1972      15jan1970
2021-07-20T15:39:48.910944700Z 10%    15nov1974      15jan1970       Obs               5,700
2021-07-20T15:39:48.917535400Z 25%    15mar1982      15jan1970       Sum of Wgt.       5,700
2021-07-20T15:39:48.917553100Z 
2021-07-20T15:39:48.917555800Z 50%    15oct1994                      Mean          08sep1994
2021-07-20T15:39:48.917558000Z                         Largest       Std. Dev.      5213.762
2021-07-20T15:39:48.917560100Z 75%    15apr2007      15jan2019
2021-07-20T15:39:48.917562200Z 90%    30mar2014      15jan2019       Variance       2.72e+07
2021-07-20T15:39:48.917564400Z 95%    15sep2016      15jan2019       Skewness      -.0104573
2021-07-20T15:39:48.917566500Z 99%    15jul2018      15jan2019       Kurtosis        1.76948
2021-07-20T15:39:48.917568500Z 
2021-07-20T15:39:48.917570500Z               chronic_respiratory_disease_date
2021-07-20T15:39:48.917572400Z -------------------------------------------------------------
2021-07-20T15:39:48.917574400Z       Percentiles      Smallest
2021-07-20T15:39:48.917576400Z  1%    15jun1970      15jan1970
2021-07-20T15:39:48.917578400Z  5%    15may1972      15jan1970
2021-07-20T15:39:48.917580400Z 10%    30dec1974      15jan1970       Obs               6,000
2021-07-20T15:39:48.917582500Z 25%    15feb1982      15jan1970       Sum of Wgt.       6,000
2021-07-20T15:39:48.917595700Z 
2021-07-20T15:39:48.917597900Z 50%    15feb1995                      Mean          03sep1994
2021-07-20T15:39:48.917600000Z                         Largest       Std. Dev.      5187.738
2021-07-20T15:39:48.917602100Z 75%    15dec2006      15jan2019
2021-07-20T15:39:48.917604000Z 90%    30dec2013      15jan2019       Variance       2.69e+07
2021-07-20T15:39:48.917606000Z 95%    15jul2016      15jan2019       Skewness       -.026245
2021-07-20T15:39:48.925697700Z 99%    15jun2018      15jan2019       Kurtosis        1.77306
2021-07-20T15:39:48.925717400Z 
2021-07-20T15:39:48.925720600Z                 chronic_cardiac_disease_date
2021-07-20T15:39:48.925723100Z -------------------------------------------------------------
2021-07-20T15:39:48.925726500Z       Percentiles      Smallest
2021-07-20T15:39:48.925729900Z  1%    15aug1970      15jan1970
2021-07-20T15:39:48.925733300Z  5%    15sep1972      15jan1970
2021-07-20T15:39:48.925736800Z 10%    15may1975      15jan1970       Obs               6,000
2021-07-20T15:39:48.925740400Z 25%    15jul1982      15jan1970       Sum of Wgt.       6,000
2021-07-20T15:39:48.925746500Z 
2021-07-20T15:39:48.925749600Z 50%    15jul1994                      Mean          26sep1994
2021-07-20T15:39:48.925753200Z                         Largest       Std. Dev.      5183.221
2021-07-20T15:39:48.925756600Z 75%    15may2007      15jan2019
2021-07-20T15:39:48.927359700Z 90%    15mar2014      15jan2019       Variance       2.69e+07
2021-07-20T15:39:48.927377200Z 95%    15oct2016      15jan2019       Skewness       .0053105
2021-07-20T15:39:48.927382200Z 99%    15sep2018      15jan2019       Kurtosis        1.77915
2021-07-20T15:39:48.927385900Z 
2021-07-20T15:39:48.927389300Z                    hba1c_mmol_per_mol_date
2021-07-20T15:39:48.927392700Z -------------------------------------------------------------
2021-07-20T15:39:48.927396400Z no observations
2021-07-20T15:39:48.927400100Z 
2021-07-20T15:39:48.927403300Z                     hba1c_percentage_date
2021-07-20T15:39:48.927406800Z -------------------------------------------------------------
2021-07-20T15:39:48.927410100Z no observations
2021-07-20T15:39:48.927413300Z 
2021-07-20T15:39:48.927416400Z                       cancer_haem_date
2021-07-20T15:39:48.932221000Z -------------------------------------------------------------
2021-07-20T15:39:48.932239800Z       Percentiles      Smallest
2021-07-20T15:39:48.932244800Z  1%    15jun1970      15jan1970
2021-07-20T15:39:48.932248700Z  5%    30may1972      15jan1970
2021-07-20T15:39:48.932252100Z 10%    15nov1974      15jan1970       Obs               6,000
2021-07-20T15:39:48.932255700Z 25%    15apr1982      15jan1970       Sum of Wgt.       6,000
2021-07-20T15:39:48.932267500Z 
2021-07-20T15:39:48.932269800Z 50%    15may1994                      Mean          20jul1994
2021-07-20T15:39:48.932272000Z                         Largest       Std. Dev.      5193.633
2021-07-20T15:39:48.932274000Z 75%    15dec2006      15jan2019
2021-07-20T15:39:48.932276600Z 90%    15mar2014      15jan2019       Variance       2.70e+07
2021-07-20T15:39:48.937846400Z 95%    15aug2016      15jan2019       Skewness       .0032774
2021-07-20T15:39:48.937864800Z 99%    15jul2018      15jan2019       Kurtosis       1.792164
2021-07-20T15:39:48.937868600Z 
2021-07-20T15:39:48.937871500Z                      cancer_nonhaem_date
2021-07-20T15:39:48.937874400Z -------------------------------------------------------------
2021-07-20T15:39:48.937877300Z       Percentiles      Smallest
2021-07-20T15:39:48.937880200Z  1%    15aug1970      15jan1970
2021-07-20T15:39:48.937883000Z  5%    15aug1972      15jan1970
2021-07-20T15:39:48.937885900Z 10%    15feb1975      15jan1970       Obs               6,000
2021-07-20T15:39:48.937888800Z 25%    15apr1982      15jan1970       Sum of Wgt.       6,000
2021-07-20T15:39:48.937891700Z 
2021-07-20T15:39:48.937894400Z 50%    15may1994                      Mean          01jul1994
2021-07-20T15:39:48.942926200Z                         Largest       Std. Dev.      5152.536
2021-07-20T15:39:48.942942600Z 75%    15aug2006      15jan2019
2021-07-20T15:39:48.942946300Z 90%    15feb2014      15jan2019       Variance       2.65e+07
2021-07-20T15:39:48.942949300Z 95%    15jun2016      15jan2019       Skewness       .0039347
2021-07-20T15:39:48.942952100Z 99%    15jul2018      15jan2019       Kurtosis       1.795836
2021-07-20T15:39:48.942955000Z 
2021-07-20T15:39:48.942957900Z                permanent_immunodeficiency_date
2021-07-20T15:39:48.942960900Z -------------------------------------------------------------
2021-07-20T15:39:48.942963900Z       Percentiles      Smallest
2021-07-20T15:39:48.942966700Z  1%    30jun1970      15jan1970
2021-07-20T15:39:48.942970200Z  5%    15jul1972      15jan1970
2021-07-20T15:39:48.943985300Z 10%    15dec1974      15jan1970       Obs               6,000
2021-07-20T15:39:48.944002100Z 25%    15oct1982      15jan1970       Sum of Wgt.       6,000
2021-07-20T15:39:48.944006300Z 
2021-07-20T15:39:48.944008400Z 50%    15dec1994                      Mean          16oct1994
2021-07-20T15:39:48.944010400Z                         Largest       Std. Dev.      5162.212
2021-07-20T15:39:48.944012400Z 75%    15jan2007      15jan2019
2021-07-20T15:39:48.944014500Z 90%    15mar2014      15jan2019       Variance       2.66e+07
2021-07-20T15:39:48.944016500Z 95%    15aug2016      15jan2019       Skewness      -.0313112
2021-07-20T15:39:48.944031800Z 99%    15jul2018      15jan2019       Kurtosis        1.80285
2021-07-20T15:39:48.944036000Z 
2021-07-20T15:39:48.944039400Z                         asplenia_date
2021-07-20T15:39:48.948005400Z -------------------------------------------------------------
2021-07-20T15:39:48.948024200Z       Percentiles      Smallest
2021-07-20T15:39:48.948029100Z  1%    15jun1970      15jan1970
2021-07-20T15:39:48.948032600Z  5%    15mar1972      15jan1970
2021-07-20T15:39:48.948035900Z 10%    15aug1974      15jan1970       Obs               6,000
2021-07-20T15:39:48.948039300Z 25%    15nov1981      15jan1970       Sum of Wgt.       6,000
2021-07-20T15:39:48.948042900Z 
2021-07-20T15:39:48.948046200Z 50%    15jun1994                      Mean          24apr1994
2021-07-20T15:39:48.948049700Z                         Largest       Std. Dev.      5194.763
2021-07-20T15:39:48.948053100Z 75%    15aug2006      15jan2019
2021-07-20T15:39:48.948056300Z 90%    15jan2014      15jan2019       Variance       2.70e+07
2021-07-20T15:39:48.952163200Z 95%    30may2016      15jan2019       Skewness       .0082786
2021-07-20T15:39:48.952180400Z 99%    15jul2018      15jan2019       Kurtosis       1.790855
2021-07-20T15:39:48.952186100Z 
2021-07-20T15:39:48.952189900Z                temporary_immunodeficiency_date
2021-07-20T15:39:48.952193300Z -------------------------------------------------------------
2021-07-20T15:39:48.952196900Z       Percentiles      Smallest
2021-07-20T15:39:48.952200500Z  1%    15mar2018      15mar2018
2021-07-20T15:39:48.952203900Z  5%    15mar2018      15mar2018
2021-07-20T15:39:48.952207100Z 10%    15apr2018      15mar2018       Obs               6,000
2021-07-20T15:39:48.952209300Z 25%    15may2018      15mar2018       Sum of Wgt.       6,000
2021-07-20T15:39:48.952211300Z 
2021-07-20T15:39:48.952213100Z 50%    15aug2018                      Mean          15aug2018
2021-07-20T15:39:48.957270500Z                         Largest       Std. Dev.      96.34612
2021-07-20T15:39:48.957290100Z 75%    15nov2018      15jan2019
2021-07-20T15:39:48.957294700Z 90%    15dec2018      15jan2019       Variance       9282.576
2021-07-20T15:39:48.957298000Z 95%    15jan2019      15jan2019       Skewness       .0135474
2021-07-20T15:39:48.957301300Z 99%    15jan2019      15jan2019       Kurtosis       1.803818
2021-07-20T15:39:48.957304500Z 
2021-07-20T15:39:48.957307900Z                  chronic_liver_disease_date
2021-07-20T15:39:48.957324500Z -------------------------------------------------------------
2021-07-20T15:39:48.957332500Z       Percentiles      Smallest
2021-07-20T15:39:48.957336600Z  1%    15jun1970      15jan1970
2021-07-20T15:39:48.957339900Z  5%    30may1972      15jan1970
2021-07-20T15:39:48.958712800Z 10%    15nov1974      15jan1970       Obs               6,000
2021-07-20T15:39:48.958723900Z 25%    15jan1982      15jan1970       Sum of Wgt.       6,000
2021-07-20T15:39:48.958730100Z 
2021-07-20T15:39:48.958732800Z 50%    15feb1994                      Mean          12may1994
2021-07-20T15:39:48.958734800Z                         Largest       Std. Dev.      5195.576
2021-07-20T15:39:48.958736700Z 75%    15oct2006      15jan2019
2021-07-20T15:39:48.958738800Z 90%    01mar2014      15jan2019       Variance       2.70e+07
2021-07-20T15:39:48.958740800Z 95%    15oct2016      15jan2019       Skewness       .0228233
2021-07-20T15:39:48.958742800Z 99%    15jul2018      15jan2019       Kurtosis       1.795731
2021-07-20T15:39:48.958745000Z 
2021-07-20T15:39:48.958747800Z                     stroke_dementia_date
2021-07-20T15:39:48.962900400Z -------------------------------------------------------------
2021-07-20T15:39:48.962918100Z       Percentiles      Smallest
2021-07-20T15:39:48.962922500Z  1%    15jun1970      15jan1970
2021-07-20T15:39:48.962925900Z  5%    15jun1972      15jan1970
2021-07-20T15:39:48.962929000Z 10%    15oct1974      15jan1970       Obs               6,000
2021-07-20T15:39:48.962932400Z 25%    15mar1982      15jan1970       Sum of Wgt.       6,000
2021-07-20T15:39:48.962936000Z 
2021-07-20T15:39:48.962939300Z 50%    30jul1994                      Mean          25jun1994
2021-07-20T15:39:48.962942700Z                         Largest       Std. Dev.      5171.071
2021-07-20T15:39:48.962946000Z 75%    15aug2006      15jan2019
2021-07-20T15:39:48.962949400Z 90%    15dec2013      15jan2019       Variance       2.67e+07
2021-07-20T15:39:48.971736300Z 95%    15sep2016      15jan2019       Skewness       .0028832
2021-07-20T15:39:48.971754900Z 99%    15aug2018      15jan2019       Kurtosis       1.800479
2021-07-20T15:39:48.971758900Z 
2021-07-20T15:39:48.971761900Z                       other_neuro_date
2021-07-20T15:39:48.971764800Z -------------------------------------------------------------
2021-07-20T15:39:48.971767900Z       Percentiles      Smallest
2021-07-20T15:39:48.971770900Z  1%    15jun1970      15jan1970
2021-07-20T15:39:48.971773600Z  5%    15jun1972      15jan1970
2021-07-20T15:39:48.971776500Z 10%    15jan1975      15jan1970       Obs               6,000
2021-07-20T15:39:48.971779300Z 25%    15jun1982      15jan1970       Sum of Wgt.       6,000
2021-07-20T15:39:48.971782100Z 
2021-07-20T15:39:48.971784800Z 50%    15apr1994                      Mean          10aug1994
2021-07-20T15:39:48.977856400Z                         Largest       Std. Dev.      5187.828
2021-07-20T15:39:48.977874200Z 75%    15dec2006      15jan2019
2021-07-20T15:39:48.977888500Z 90%    15apr2014      15jan2019       Variance       2.69e+07
2021-07-20T15:39:48.977891600Z 95%    15oct2016      15jan2019       Skewness       .0060097
2021-07-20T15:39:48.977895200Z 99%    15aug2018      15jan2019       Kurtosis       1.799119
2021-07-20T15:39:48.977898500Z 
2021-07-20T15:39:48.977902200Z                           esrf_date
2021-07-20T15:39:48.977905700Z -------------------------------------------------------------
2021-07-20T15:39:48.977907800Z       Percentiles      Smallest
2021-07-20T15:39:48.977909800Z  1%    15jun1970      15jan1970
2021-07-20T15:39:48.977912000Z  5%    15aug1972      15jan1970
2021-07-20T15:39:48.979161000Z 10%    15nov1974      15jan1970       Obs               6,000
2021-07-20T15:39:48.979176400Z 25%    15mar1982      15jan1970       Sum of Wgt.       6,000
2021-07-20T15:39:48.979181500Z 
2021-07-20T15:39:48.979215000Z 50%    15sep1994                      Mean          18aug1994
2021-07-20T15:39:48.979222400Z                         Largest       Std. Dev.      5192.335
2021-07-20T15:39:48.979225300Z 75%    15mar2007      15jan2019
2021-07-20T15:39:48.979228700Z 90%    15feb2014      15jan2019       Variance       2.70e+07
2021-07-20T15:39:48.979232100Z 95%    15jul2016      15jan2019       Skewness      -.0101383
2021-07-20T15:39:48.979235300Z 99%    15jul2018      15jan2019       Kurtosis       1.781176
2021-07-20T15:39:48.979238700Z 
2021-07-20T15:39:48.979242000Z                         dialysis_date
2021-07-20T15:39:48.983489400Z -------------------------------------------------------------
2021-07-20T15:39:48.983504000Z       Percentiles      Smallest
2021-07-20T15:39:48.983507800Z  1%    15jun1970      15jan1970
2021-07-20T15:39:48.983510700Z  5%    15aug1972      15jan1970
2021-07-20T15:39:48.983513800Z 10%    15feb1975      15jan1970       Obs               6,000
2021-07-20T15:39:48.983516900Z 25%    15jul1982      15jan1970       Sum of Wgt.       6,000
2021-07-20T15:39:48.983520300Z 
2021-07-20T15:39:48.983523100Z 50%    15oct1994                      Mean          13dec1994
2021-07-20T15:39:48.983526100Z                         Largest       Std. Dev.      5258.628
2021-07-20T15:39:48.983529000Z 75%    15jul2007      15jan2020
2021-07-20T15:39:48.983532000Z 90%    15dec2014      15jan2020       Variance       2.77e+07
2021-07-20T15:39:48.989183500Z 95%    15aug2017      15jan2020       Skewness       .0202679
2021-07-20T15:39:48.989204100Z 99%    15aug2019      15jan2020       Kurtosis        1.81214
2021-07-20T15:39:48.989208900Z 
2021-07-20T15:39:48.989211200Z                    kidney_transplant_date
2021-07-20T15:39:48.989213300Z -------------------------------------------------------------
2021-07-20T15:39:48.989215400Z       Percentiles      Smallest
2021-07-20T15:39:48.989231600Z  1%    15may1970      15jan1970
2021-07-20T15:39:48.989236000Z  5%    15apr1972      15jan1970
2021-07-20T15:39:48.989239500Z 10%    30oct1974      15jan1970       Obs               6,000
2021-07-20T15:39:48.989242900Z 25%    15may1982      15jan1970       Sum of Wgt.       6,000
2021-07-20T15:39:48.989246300Z 
2021-07-20T15:39:48.989249500Z 50%    15jun1995                      Mean          05feb1995
2021-07-20T15:39:48.995919800Z                         Largest       Std. Dev.      5296.164
2021-07-20T15:39:48.995939400Z 75%    15sep2007      15jan2020
2021-07-20T15:39:48.995944200Z 90%    15dec2014      15jan2020       Variance       2.80e+07
2021-07-20T15:39:48.995948100Z 95%    15jul2017      15jan2020       Skewness       -.025719
2021-07-20T15:39:48.995951600Z 99%    15jun2019      15jan2020       Kurtosis       1.793366
2021-07-20T15:39:48.995954800Z 
2021-07-20T15:39:48.995957800Z                     other_transplant_date
2021-07-20T15:39:48.995960700Z -------------------------------------------------------------
2021-07-20T15:39:48.995963700Z       Percentiles      Smallest
2021-07-20T15:39:48.995966700Z  1%    15jul1970      15jan1970
2021-07-20T15:39:48.995969600Z  5%    30jul1972      15jan1970
2021-07-20T15:39:48.997275800Z 10%    15mar1975      15jan1970       Obs               6,000
2021-07-20T15:39:48.997289900Z 25%    15oct1982      15jan1970       Sum of Wgt.       6,000
2021-07-20T15:39:48.997293700Z 
2021-07-20T15:39:48.997296600Z 50%    15dec1994                      Mean          20dec1994
2021-07-20T15:39:48.997299600Z                         Largest       Std. Dev.      5235.156
2021-07-20T15:39:48.997302600Z 75%    15feb2007      15jan2020
2021-07-20T15:39:48.997305700Z 90%    30nov2014      15jan2020       Variance       2.74e+07
2021-07-20T15:39:48.997308700Z 95%    30aug2017      15jan2020       Skewness       .0166098
2021-07-20T15:39:48.997311700Z 99%    30jul2019      15jan2020       Kurtosis       1.818285
2021-07-20T15:39:48.997314600Z 
2021-07-20T15:39:48.997317400Z                       hypertension_date
2021-07-20T15:39:49.001734300Z -------------------------------------------------------------
2021-07-20T15:39:49.001752800Z       Percentiles      Smallest
2021-07-20T15:39:49.001757800Z  1%    15aug1970      15jan1970
2021-07-20T15:39:49.001761400Z  5%    15oct1972      15jan1970
2021-07-20T15:39:49.001764400Z 10%    15apr1975      15jan1970       Obs               6,000
2021-07-20T15:39:49.001767200Z 25%    15nov1982      15jan1970       Sum of Wgt.       6,000
2021-07-20T15:39:49.001770200Z 
2021-07-20T15:39:49.001773100Z 50%    15jul1995                      Mean          01oct1995
2021-07-20T15:39:49.001788100Z                         Largest       Std. Dev.      5413.352
2021-07-20T15:39:49.001792300Z 75%    15oct2008      15jul2021
2021-07-20T15:39:49.001795200Z 90%    15mar2016      15jul2021       Variance       2.93e+07
2021-07-20T15:39:49.009671200Z 95%    15dec2018      15jul2021       Skewness       .0085337
2021-07-20T15:39:49.009694600Z 99%    15nov2020      15jul2021       Kurtosis       1.788384
2021-07-20T15:39:49.009698500Z 
2021-07-20T15:39:49.009701500Z                     ra_sle_psoriasis_date
2021-07-20T15:39:49.009704500Z -------------------------------------------------------------
2021-07-20T15:39:49.009707600Z       Percentiles      Smallest
2021-07-20T15:39:49.009710700Z  1%    15aug1970      15jan1970
2021-07-20T15:39:49.009713500Z  5%    15sep1972      15jan1970
2021-07-20T15:39:49.009716400Z 10%    15jul1975      15jan1970       Obs               6,000
2021-07-20T15:39:49.009719300Z 25%    15sep1982      15jan1970       Sum of Wgt.       6,000
2021-07-20T15:39:49.009722200Z 
2021-07-20T15:39:49.009724900Z 50%    15sep1994                      Mean          28oct1994
2021-07-20T15:39:49.044595300Z                         Largest       Std. Dev.       5138.58
2021-07-20T15:39:49.044617600Z 75%    30jan2007      15jan2019
2021-07-20T15:39:49.044622900Z 90%    15apr2014      15jan2019       Variance       2.64e+07
2021-07-20T15:39:49.044626800Z 95%    30sep2016      15jan2019       Skewness      -.0033404
2021-07-20T15:39:49.044630500Z 99%    15aug2018      15jan2019       Kurtosis       1.805224
2021-07-20T15:39:49.044634200Z 
2021-07-20T15:39:49.044637900Z                              age
2021-07-20T15:39:49.044641500Z -------------------------------------------------------------
2021-07-20T15:39:49.044645000Z       Percentiles      Smallest
2021-07-20T15:39:49.044648700Z  1%            0              0
2021-07-20T15:39:49.044652200Z  5%            4              0
2021-07-20T15:39:49.044976300Z 10%            8              0       Obs              30,000
2021-07-20T15:39:49.044988200Z 25%           20              0       Sum of Wgt.      30,000
2021-07-20T15:39:49.044992900Z 
2021-07-20T15:39:49.044996400Z 50%           39                      Mean           40.14643
2021-07-20T15:39:49.045000300Z                         Largest       Std. Dev.      23.83332
2021-07-20T15:39:49.045004200Z 75%         58.5            107
2021-07-20T15:39:49.045008000Z 90%           73            107       Variance        568.027
2021-07-20T15:39:49.045012000Z 95%           80            108       Skewness       .1503066
2021-07-20T15:39:49.045015600Z 99%           89            109       Kurtosis       2.057228
2021-07-20T15:39:49.045019200Z 
2021-07-20T15:39:49.045022800Z                              sex
2021-07-20T15:39:49.061529300Z -------------------------------------------------------------
2021-07-20T15:39:49.061550000Z no observations
2021-07-20T15:39:49.061555000Z 
2021-07-20T15:39:49.061558800Z                              imd
2021-07-20T15:39:49.061562500Z -------------------------------------------------------------
2021-07-20T15:39:49.061566800Z       Percentiles      Smallest
2021-07-20T15:39:49.061570700Z  1%          100            100
2021-07-20T15:39:49.061574100Z  5%          100            100
2021-07-20T15:39:49.061577800Z 10%          200            100       Obs              30,000
2021-07-20T15:39:49.061581300Z 25%          200            100       Sum of Wgt.      30,000
2021-07-20T15:39:49.061584800Z 
2021-07-20T15:39:49.061588100Z 50%          300                      Mean           260.5133
2021-07-20T15:39:49.082932600Z                         Largest       Std. Dev.      66.03243
2021-07-20T15:39:49.082954800Z 75%          300            300
2021-07-20T15:39:49.082960100Z 90%          300            300       Variance       4360.282
2021-07-20T15:39:49.082964000Z 95%          300            300       Skewness      -1.417122
2021-07-20T15:39:49.082968000Z 99%          300            300       Kurtosis       3.670049
2021-07-20T15:39:49.082972000Z 
2021-07-20T15:39:49.082975600Z                              stp
2021-07-20T15:39:49.082979100Z -------------------------------------------------------------
2021-07-20T15:39:49.082982900Z no observations
2021-07-20T15:39:49.082986200Z 
2021-07-20T15:39:49.082989500Z                           ethnicity
2021-07-20T15:39:49.082993000Z -------------------------------------------------------------
2021-07-20T15:39:49.082996600Z       Percentiles      Smallest
2021-07-20T15:39:49.083000300Z  1%            1              1
2021-07-20T15:39:49.085087800Z  5%            1              1
2021-07-20T15:39:49.085106200Z 10%            1              1       Obs              22,500
2021-07-20T15:39:49.085110800Z 25%            1              1       Sum of Wgt.      22,500
2021-07-20T15:39:49.085114800Z 
2021-07-20T15:39:49.085119000Z 50%            1                      Mean           1.588356
2021-07-20T15:39:49.085122900Z                         Largest       Std. Dev.      1.266332
2021-07-20T15:39:49.085126900Z 75%            1              5
2021-07-20T15:39:49.085130600Z 90%            3              5       Variance       1.603598
2021-07-20T15:39:49.085134500Z 95%            5              5       Skewness       1.948874
2021-07-20T15:39:49.085138300Z 99%            5              5       Kurtosis       5.283999
2021-07-20T15:39:49.085142100Z 
2021-07-20T15:39:49.112507200Z                         household_id
2021-07-20T15:39:49.112532100Z -------------------------------------------------------------
2021-07-20T15:39:49.112536000Z       Percentiles      Smallest
2021-07-20T15:39:49.112538500Z  1%          537            146
2021-07-20T15:39:49.112540800Z  5%          663            163
2021-07-20T15:39:49.112543100Z 10%        738.5            210       Obs              30,000
2021-07-20T15:39:49.112545500Z 25%          859            227       Sum of Wgt.      30,000
2021-07-20T15:39:49.112547800Z 
2021-07-20T15:39:49.112549900Z 50%          997                      Mean           997.1011
2021-07-20T15:39:49.112552100Z                         Largest       Std. Dev.      201.5161
2021-07-20T15:39:49.112554300Z 75%         1134           1703
2021-07-20T15:39:49.131339600Z 90%         1257           1715       Variance       40608.73
2021-07-20T15:39:49.131362100Z 95%       1329.5           1733       Skewness      -.0014845
2021-07-20T15:39:49.131368300Z 99%         1465           1747       Kurtosis       2.931051
2021-07-20T15:39:49.131372200Z 
2021-07-20T15:39:49.131375500Z                        household_size
2021-07-20T15:39:49.131379100Z -------------------------------------------------------------
2021-07-20T15:39:49.131383000Z       Percentiles      Smallest
2021-07-20T15:39:49.131386800Z  1%            0             -1
2021-07-20T15:39:49.131390300Z  5%            1              0
2021-07-20T15:39:49.131393900Z 10%            1              0       Obs              30,000
2021-07-20T15:39:49.131397400Z 25%            2              0       Sum of Wgt.      30,000
2021-07-20T15:39:49.131401100Z 
2021-07-20T15:39:49.134097600Z 50%            3                      Mean           2.505367
2021-07-20T15:39:49.134120000Z                         Largest       Std. Dev.       1.03689
2021-07-20T15:39:49.134125700Z 75%            3              6
2021-07-20T15:39:49.134129800Z 90%            4              6       Variance        1.07514
2021-07-20T15:39:49.134134100Z 95%            4              6       Skewness       .0456896
2021-07-20T15:39:49.134137900Z 99%            5              7       Kurtosis       2.915305
2021-07-20T15:39:49.134141800Z 
2021-07-20T15:39:49.134145400Z                        care_home_type
2021-07-20T15:39:49.134149100Z -------------------------------------------------------------
2021-07-20T15:39:49.134153600Z no observations
2021-07-20T15:39:49.134157300Z 
2021-07-20T15:39:49.134160900Z                              bmi
2021-07-20T15:39:49.173902700Z -------------------------------------------------------------
2021-07-20T15:39:49.173928100Z       Percentiles      Smallest
2021-07-20T15:39:49.173933500Z  1%            0      -7.696277
2021-07-20T15:39:49.173950500Z  5%            0      -3.436511
2021-07-20T15:39:49.173953300Z 10%     18.56095      -3.199135       Obs              30,000
2021-07-20T15:39:49.173955700Z 25%     26.83336      -2.057226       Sum of Wgt.      30,000
2021-07-20T15:39:49.173958100Z 
2021-07-20T15:39:49.173960300Z 50%     34.24482                      Mean           33.15284
2021-07-20T15:39:49.173962600Z                         Largest       Std. Dev.      12.37653
2021-07-20T15:39:49.173964800Z 75%     41.36731       72.79147
2021-07-20T15:39:49.173967000Z 90%     47.39048       73.81374       Variance       153.1785
2021-07-20T15:39:49.209016600Z 95%     50.97686        75.4846       Skewness       -.708864
2021-07-20T15:39:49.209040000Z 99%     57.91513       78.67275       Kurtosis       3.869387
2021-07-20T15:39:49.209044800Z 
2021-07-20T15:39:49.209048300Z                            bp_sys
2021-07-20T15:39:49.209051600Z -------------------------------------------------------------
2021-07-20T15:39:49.209054900Z       Percentiles      Smallest
2021-07-20T15:39:49.209058300Z  1%            0              0
2021-07-20T15:39:49.209062500Z  5%     19.01933              0
2021-07-20T15:39:49.209065700Z 10%     63.72158              0       Obs              30,000
2021-07-20T15:39:49.209069100Z 25%     72.01968              0       Sum of Wgt.      30,000
2021-07-20T15:39:49.209072400Z 
2021-07-20T15:39:49.209075500Z 50%     79.34266                      Mean           76.02292
2021-07-20T15:39:49.249235900Z                         Largest       Std. Dev.      19.98293
2021-07-20T15:39:49.249261400Z 75%     86.38644       116.0064
2021-07-20T15:39:49.249266400Z 90%     92.59075       116.6871       Variance       399.3175
2021-07-20T15:39:49.249270200Z 95%     96.09222       117.3737       Skewness      -2.602191
2021-07-20T15:39:49.249274200Z 99%     103.2082       118.6828       Kurtosis       10.71247
2021-07-20T15:39:49.249278000Z 
2021-07-20T15:39:49.249281900Z                            bp_dias
2021-07-20T15:39:49.249285500Z -------------------------------------------------------------
2021-07-20T15:39:49.249289500Z       Percentiles      Smallest
2021-07-20T15:39:49.249293200Z  1%            0              0
2021-07-20T15:39:49.249296800Z  5%     39.56693              0
2021-07-20T15:39:49.251020600Z 10%     103.7815              0       Obs              30,000
2021-07-20T15:39:49.251036800Z 25%     111.9803              0       Sum of Wgt.      30,000
2021-07-20T15:39:49.251042200Z 
2021-07-20T15:39:49.251046300Z 50%     119.3159                      Mean           113.9608
2021-07-20T15:39:49.251050700Z                         Largest       Std. Dev.       27.8937
2021-07-20T15:39:49.251094800Z 75%     126.2821        155.072
2021-07-20T15:39:49.251103000Z 90%     132.4693       155.7856       Variance       778.0585
2021-07-20T15:39:49.251107300Z 95%     136.1788        159.426       Skewness      -3.322015
2021-07-20T15:39:49.251109700Z 99%     142.9776       160.7181       Kurtosis       14.01361
2021-07-20T15:39:49.251112200Z 
2021-07-20T15:39:49.251115600Z                          creatinine
2021-07-20T15:39:49.295834700Z -------------------------------------------------------------
2021-07-20T15:39:49.295856200Z       Percentiles      Smallest
2021-07-20T15:39:49.295862100Z  1%            0      -.4072392
2021-07-20T15:39:49.295867000Z  5%            0              0
2021-07-20T15:39:49.295871400Z 10%       35.679              0       Obs              30,000
2021-07-20T15:39:49.295876200Z 25%     47.85034              0       Sum of Wgt.      30,000
2021-07-20T15:39:49.295880700Z 
2021-07-20T15:39:49.295885400Z 50%     58.89504                      Mean           56.96008
2021-07-20T15:39:49.295889900Z                         Largest       Std. Dev.      19.60308
2021-07-20T15:39:49.295898600Z 75%     69.58926       111.9048
2021-07-20T15:39:49.295903600Z 90%     78.84236       112.4811       Variance       384.2807
2021-07-20T15:39:49.296640800Z 95%     84.40881       115.5589       Skewness      -.9677536
2021-07-20T15:39:49.296658100Z 99%     94.42919       117.7359       Kurtosis       4.600107
2021-07-20T15:39:49.296663700Z 
2021-07-20T15:39:49.296685600Z                        smoking_status
2021-07-20T15:39:49.296690800Z -------------------------------------------------------------
2021-07-20T15:39:49.296694300Z no observations
2021-07-20T15:39:49.296697400Z 
2021-07-20T15:39:49.296700500Z                         diabetes_type
2021-07-20T15:39:49.296703600Z -------------------------------------------------------------
2021-07-20T15:39:49.296707200Z no observations
2021-07-20T15:39:49.296711000Z 
2021-07-20T15:39:49.296715000Z                      diabetes_exeter_os
2021-07-20T15:39:49.296719100Z -------------------------------------------------------------
2021-07-20T15:39:49.296723200Z no observations
2021-07-20T15:39:49.296727100Z 
2021-07-20T15:39:49.296730800Z                        diabetes_exeter
2021-07-20T15:39:49.327030100Z -------------------------------------------------------------
2021-07-20T15:39:49.327052400Z no observations
2021-07-20T15:39:49.327057800Z 
2021-07-20T15:39:49.327060300Z                      hba1c_mmol_per_mol
2021-07-20T15:39:49.327062700Z -------------------------------------------------------------
2021-07-20T15:39:49.327065300Z       Percentiles      Smallest
2021-07-20T15:39:49.327076900Z  1%    -6.133185      -35.78268
2021-07-20T15:39:49.327079400Z  5%            0      -34.83997
2021-07-20T15:39:49.327081700Z 10%     7.772916      -33.79644       Obs              30,000
2021-07-20T15:39:49.327084000Z 25%     23.84844      -33.29337       Sum of Wgt.      30,000
2021-07-20T15:39:49.327086500Z 
2021-07-20T15:39:49.327088600Z 50%     38.61793                      Mean           37.98037
2021-07-20T15:39:49.357105500Z                         Largest       Std. Dev.      21.30662
2021-07-20T15:39:49.357131500Z 75%     52.66493       112.1932
2021-07-20T15:39:49.357135300Z 90%     64.94646       112.3511       Variance       453.9722
2021-07-20T15:39:49.357137900Z 95%     72.37109        113.993       Skewness      -.0359551
2021-07-20T15:39:49.357140500Z 99%     86.44228       115.4855       Kurtosis       2.745972
2021-07-20T15:39:49.357142900Z 
2021-07-20T15:39:49.357145300Z                       hba1c_percentage
2021-07-20T15:39:49.357147500Z -------------------------------------------------------------
2021-07-20T15:39:49.357149900Z       Percentiles      Smallest
2021-07-20T15:39:49.357152100Z  1%            0      -3.301596
2021-07-20T15:39:49.357154400Z  5%            0      -2.306363
2021-07-20T15:39:49.358684100Z 10%     1.730323      -2.240669       Obs              30,000
2021-07-20T15:39:49.358706900Z 25%     3.361808      -2.158282       Sum of Wgt.      30,000
2021-07-20T15:39:49.358712000Z 
2021-07-20T15:39:49.358715300Z 50%     4.843352                      Mean           4.732196
2021-07-20T15:39:49.358718700Z                         Largest       Std. Dev.      2.229867
2021-07-20T15:39:49.358722000Z 75%     6.251309       12.08452
2021-07-20T15:39:49.358725600Z 90%     7.491626        12.2957       Variance       4.972307
2021-07-20T15:39:49.358729000Z 95%     8.226514       12.47019       Skewness      -.2264383
2021-07-20T15:39:49.358732500Z 99%     9.566884       12.51087       Kurtosis       2.894756
2021-07-20T15:39:49.358736000Z 
2021-07-20T15:39:49.358739200Z                            asthma
2021-07-20T15:39:49.363600300Z -------------------------------------------------------------
2021-07-20T15:39:49.363672100Z       Percentiles      Smallest
2021-07-20T15:39:49.363681400Z  1%            0              0
2021-07-20T15:39:49.363685300Z  5%            0              0
2021-07-20T15:39:49.363687600Z 10%            0              0       Obs               6,000
2021-07-20T15:39:49.363690000Z 25%            0              0       Sum of Wgt.       6,000
2021-07-20T15:39:49.363692900Z 
2021-07-20T15:39:49.363695200Z 50%            0                      Mean           .7058333
2021-07-20T15:39:49.363698500Z                         Largest       Std. Dev.      .9002413
2021-07-20T15:39:49.363750000Z 75%            2              2
2021-07-20T15:39:49.363755200Z 90%            2              2       Variance       .8104344
2021-07-20T15:39:49.400728800Z 95%            2              2       Skewness       .6119761
2021-07-20T15:39:49.400748200Z 99%            2              2       Kurtosis         1.5137
2021-07-20T15:39:49.400751900Z 
2021-07-20T15:39:49.400754300Z                          patient_id
2021-07-20T15:39:49.400756600Z -------------------------------------------------------------
2021-07-20T15:39:49.400759000Z       Percentiles      Smallest
2021-07-20T15:39:49.400761700Z  1%         2782              1
2021-07-20T15:39:49.400764000Z  5%      15175.5             17
2021-07-20T15:39:49.400766300Z 10%      30315.5             21       Obs              30,000
2021-07-20T15:39:49.400802700Z 25%        75826             40       Sum of Wgt.      30,000
2021-07-20T15:39:49.400809100Z 
2021-07-20T15:39:49.400811700Z 50%       150604                      Mean           150734.3
2021-07-20T15:39:49.403782100Z                         Largest       Std. Dev.      86700.93
2021-07-20T15:39:49.403800300Z 75%     226005.5         299953
2021-07-20T15:39:49.403805200Z 90%     270591.5         299983       Variance       7.52e+09
2021-07-20T15:39:49.403809300Z 95%       285758         299992       Skewness      -.0086361
2021-07-20T15:39:49.403813100Z 99%       296916         299997       Kurtosis       1.798623
2021-07-20T15:39:49.403816000Z 
2021-07-20T15:39:49.403818500Z                         diabetes_date
2021-07-20T15:39:49.403820800Z -------------------------------------------------------------
2021-07-20T15:39:49.403823100Z       Percentiles      Smallest
2021-07-20T15:39:49.403825300Z  1%    15jul1970      15jan1970
2021-07-20T15:39:49.403827600Z  5%    15jun1972      15jan1970
2021-07-20T15:39:49.405554100Z 10%    15may1974      15jan1970       Obs               1,467
2021-07-20T15:39:49.405568600Z 25%    15sep1981      15jan1970       Sum of Wgt.       1,467
2021-07-20T15:39:49.405571900Z 
2021-07-20T15:39:49.405574200Z 50%    15may1994                      Mean          06oct1994
2021-07-20T15:39:49.405576600Z                         Largest       Std. Dev.       5365.65
2021-07-20T15:39:49.405579100Z 75%    15sep2007      15dec2019
2021-07-20T15:39:49.405581500Z 90%    15mar2015      15dec2019       Variance       2.88e+07
2021-07-20T15:39:49.405583900Z 95%    15jun2017      15dec2019       Skewness       .0190043
2021-07-20T15:39:49.405586200Z 99%    15jul2019      15jan2020       Kurtosis       1.755157
2021-07-20T15:39:49.405588500Z 
2021-07-20T15:39:49.405590600Z                         died_date_ons
2021-07-20T15:39:49.410755600Z -------------------------------------------------------------
2021-07-20T15:39:49.410770800Z       Percentiles      Smallest
2021-07-20T15:39:49.410773600Z  1%    29jul1970      06jan1970
2021-07-20T15:39:49.410775900Z  5%    05aug1972      08jan1970
2021-07-20T15:39:49.410778200Z 10%    15mar1975      11jan1970       Obs               5,891
2021-07-20T15:39:49.410780500Z 25%    08sep1982      16jan1970       Sum of Wgt.       5,891
2021-07-20T15:39:49.410782900Z 
2021-07-20T15:39:49.410785100Z 50%    31dec1994                      Mean          17mar1995
2021-07-20T15:39:49.410787500Z                         Largest       Std. Dev.      5315.018
2021-07-20T15:39:49.410789900Z 75%    29aug2007      17jul2020
2021-07-20T15:39:49.410792300Z 90%    18jun2015      19jul2020       Variance       2.82e+07
2021-07-20T15:39:49.410794700Z 95%    09mar2018      22jul2020       Skewness       .0212387
2021-07-20T15:39:49.410797000Z 99%    14feb2020      31jul2020       Kurtosis       1.820517
2021-07-20T15:39:49.410799300Z 
2021-07-20T15:39:49.410801500Z . 
2021-07-20T15:39:49.410803800Z . /* CREATE VARIABLES==========================================================
2021-07-20T15:39:49.410806400Z > =*/
2021-07-20T15:39:49.410809000Z . 
2021-07-20T15:39:49.410811300Z . /* DEMOGRAPHICS */
2021-07-20T15:39:49.410813800Z . 
2021-07-20T15:39:49.410815900Z . * Sex
2021-07-20T15:39:49.410818200Z . gen male = 1 if sex == "M"
2021-07-20T15:39:49.416663900Z (15,288 missing values generated)
2021-07-20T15:39:49.416685100Z 
2021-07-20T15:39:49.416688200Z . replace male = 0 if sex == "F"
2021-07-20T15:39:49.423490300Z (15,288 real changes made)
2021-07-20T15:39:49.423506600Z 
2021-07-20T15:39:49.423509300Z . 
2021-07-20T15:39:49.423511600Z . * Ethnicity
2021-07-20T15:39:49.423514000Z . replace ethnicity = .u if ethnicity == .
2021-07-20T15:39:49.428212600Z (7,500 real changes made, 7,500 to missing)
2021-07-20T15:39:49.428231700Z 
2021-07-20T15:39:49.428235700Z . 
2021-07-20T15:39:49.428238200Z . label define ethnicity  1 "White"                                       ///
2021-07-20T15:39:49.428240900Z >                                                 2 "Mixed"                    
2021-07-20T15:39:49.428243900Z >                    ///
2021-07-20T15:39:49.428246400Z >                                                 3 "Asian or Asian British"   
2021-07-20T15:39:49.428249000Z >    ///
2021-07-20T15:39:49.428251300Z >                                                 4 "Black"                    
2021-07-20T15:39:49.428253800Z >                    ///
2021-07-20T15:39:49.428264900Z >                                                 5 "Other"                    
2021-07-20T15:39:49.428269500Z >                    ///
2021-07-20T15:39:49.428273300Z >                                                 .u "Unknown"
2021-07-20T15:39:49.428277300Z 
2021-07-20T15:39:49.428281300Z . 
2021-07-20T15:39:49.428289000Z . label values ethnicity ethnicity
2021-07-20T15:39:49.428388900Z 
2021-07-20T15:39:49.428400400Z . 
2021-07-20T15:39:49.428403700Z . * STP
2021-07-20T15:39:49.428406000Z . rename stp stp_old
2021-07-20T15:39:49.428656900Z 
2021-07-20T15:39:49.428669500Z . bysort stp_old: gen stp = 1 if _n==1
2021-07-20T15:39:49.463202800Z (29,990 missing values generated)
2021-07-20T15:39:49.463221000Z 
2021-07-20T15:39:49.463224900Z . replace stp = sum(stp)
2021-07-20T15:39:49.467226500Z (29,999 real changes made)
2021-07-20T15:39:49.467247100Z 
2021-07-20T15:39:49.467251500Z . drop stp_old
2021-07-20T15:39:49.468528300Z 
2021-07-20T15:39:49.468541400Z . 
2021-07-20T15:39:49.468544500Z . /*  IMD  */
2021-07-20T15:39:49.468546800Z . * Group into 5 groups
2021-07-20T15:39:49.468549100Z . rename imd imd_o
2021-07-20T15:39:49.468551500Z 
2021-07-20T15:39:49.468553700Z . egen imd = cut(imd_o), group(5) icodes
2021-07-20T15:39:49.526137400Z 
2021-07-20T15:39:49.526158700Z . 
2021-07-20T15:39:49.526164000Z . * add one to create groups 1 - 5
2021-07-20T15:39:49.526168700Z . replace imd = imd + 1
2021-07-20T15:39:49.530162500Z (30,000 real changes made)
2021-07-20T15:39:49.530181500Z 
2021-07-20T15:39:49.530186500Z . 
2021-07-20T15:39:49.530190200Z . * - 1 is missing, should be excluded from population
2021-07-20T15:39:49.530194300Z . replace imd = .u if imd_o == -1
2021-07-20T15:39:49.533790000Z (0 real changes made)
2021-07-20T15:39:49.533804900Z 
2021-07-20T15:39:49.533809300Z . drop imd_o
2021-07-20T15:39:49.535253500Z 
2021-07-20T15:39:49.535286900Z . 
2021-07-20T15:39:49.535324600Z . * Reverse the order (so high is more deprived)
2021-07-20T15:39:49.535344300Z . recode imd 5 = 1 4 = 2 3 = 3 2 = 4 1 = 5 .u = .u
2021-07-20T15:39:49.600742600Z (imd: 30000 changes made)
2021-07-20T15:39:49.602496200Z 
2021-07-20T15:39:49.602510200Z . 
2021-07-20T15:39:49.602515400Z . label define imd 1 "1 least deprived" 2 "2" 3 "3" 4 "4" 5 "5 most deprived" .
2021-07-20T15:39:49.602520100Z > u "Unknown"
2021-07-20T15:39:49.602538900Z 
2021-07-20T15:39:49.602672400Z . label values imd imd
2021-07-20T15:39:49.602686000Z 
2021-07-20T15:39:49.602690900Z . 
2021-07-20T15:39:49.602694900Z . /*  Age variables  */
2021-07-20T15:39:49.602698600Z . 
2021-07-20T15:39:49.602702300Z . * Create categorised age
2021-07-20T15:39:49.602766200Z . recode age 18/29.9999 = 1 ///
2021-07-20T15:39:49.602777000Z >                    30/39.9999 = 2 ///
2021-07-20T15:39:49.602780100Z >            40/49.9999 = 3 ///
2021-07-20T15:39:49.602782500Z >                    50/59.9999 = 4 ///
2021-07-20T15:39:49.602784800Z >                60/69.9999 = 5 ///
2021-07-20T15:39:49.602787000Z >                    70/79.9999 = 6 ///
2021-07-20T15:39:49.602789400Z >                    80/max = 7, gen(agegroup)
2021-07-20T15:39:49.700985200Z (23537 differences between age and agegroup)
2021-07-20T15:39:49.711908900Z 
2021-07-20T15:39:49.711926700Z . 
2021-07-20T15:39:49.711929700Z . label define agegroup   1 "18-<30" ///
2021-07-20T15:39:49.711932400Z >                                                 2 "30-<40" ///
2021-07-20T15:39:49.711934900Z >                                                 3 "40-<50" ///
2021-07-20T15:39:49.711937400Z >                                                 4 "50-<60" ///
2021-07-20T15:39:49.711940000Z >                                                 5 "60-<70" ///
2021-07-20T15:39:49.711942500Z >                                                 6 "70-<80" ///
2021-07-20T15:39:49.711944900Z >                                                 7 "80+"
2021-07-20T15:39:49.711947400Z 
2021-07-20T15:39:49.711949400Z . 
2021-07-20T15:39:49.711951600Z . label values agegroup agegroup
2021-07-20T15:39:49.712023900Z 
2021-07-20T15:39:49.712070600Z . 
2021-07-20T15:39:49.712079100Z . * Create binary age (for age stratification)
2021-07-20T15:39:49.712083700Z . recode age min/65.999999999 = 0 ///
2021-07-20T15:39:49.712087500Z >            66/max = 1, gen(age66)
2021-07-20T15:39:49.762204300Z (29660 differences between age and age66)
2021-07-20T15:39:49.775310500Z 
2021-07-20T15:39:49.775354900Z . 
2021-07-20T15:39:49.775360600Z . * Check there are no missing ages
2021-07-20T15:39:49.775363200Z . assert age < .
2021-07-20T15:39:49.777503900Z 
2021-07-20T15:39:49.777518300Z . assert agegroup < .
2021-07-20T15:39:49.779340200Z 
2021-07-20T15:39:49.779356300Z . assert age66 < .
2021-07-20T15:39:49.782935800Z 
2021-07-20T15:39:49.782956400Z . 
2021-07-20T15:39:49.782960900Z . 
2021-07-20T15:39:49.782964200Z . /* APPLY HH level INCLUSION/EXCLUIONS========================================
2021-07-20T15:39:49.782968000Z > ==========*/
2021-07-20T15:39:49.782971600Z . *tab care_home_type household_size
2021-07-20T15:39:49.782974800Z . drop if care_home_type!="U"
2021-07-20T15:39:49.792771600Z (944 observations deleted)
2021-07-20T15:39:49.792793800Z 
2021-07-20T15:39:49.792798600Z . 
2021-07-20T15:39:49.792802500Z . count
2021-07-20T15:39:49.792806300Z   29,056
2021-07-20T15:39:49.792810100Z 
2021-07-20T15:39:49.792953500Z . noi di "DROP if HH ID==0"
2021-07-20T15:39:49.792968100Z DROP if HH ID==0
2021-07-20T15:39:49.792972700Z 
2021-07-20T15:39:49.792976100Z . count if household_id==0
2021-07-20T15:39:49.798946700Z   0
2021-07-20T15:39:49.799008600Z 
2021-07-20T15:39:49.799015400Z . drop if household_id==0
2021-07-20T15:39:49.803414700Z (0 observations deleted)
2021-07-20T15:39:49.803433600Z 
2021-07-20T15:39:49.803438700Z . count
2021-07-20T15:39:49.803576200Z   29,056
2021-07-20T15:39:49.803602600Z 
2021-07-20T15:39:49.803630900Z . 
2021-07-20T15:39:49.803636500Z . noi di "DROP HH>=10 persons:"
2021-07-20T15:39:49.803640700Z DROP HH>=10 persons:
2021-07-20T15:39:49.803644600Z 
2021-07-20T15:39:49.803648000Z . sum household_size, d
2021-07-20T15:39:49.843039500Z 
2021-07-20T15:39:49.843110300Z                        household_size
2021-07-20T15:39:49.843120400Z -------------------------------------------------------------
2021-07-20T15:39:49.843125400Z       Percentiles      Smallest
2021-07-20T15:39:49.843129900Z  1%            0             -1
2021-07-20T15:39:49.843135000Z  5%            1              0
2021-07-20T15:39:49.843139200Z 10%            1              0       Obs              29,056
2021-07-20T15:39:49.843143500Z 25%            2              0       Sum of Wgt.      29,056
2021-07-20T15:39:49.843148100Z 
2021-07-20T15:39:49.843152500Z 50%            3                      Mean           2.505575
2021-07-20T15:39:49.843157300Z                         Largest       Std. Dev.        1.0379
2021-07-20T15:39:49.843162100Z 75%            3              6
2021-07-20T15:39:49.843166900Z 90%            4              6       Variance       1.077236
2021-07-20T15:39:49.843171600Z 95%            4              6       Skewness       .0482988
2021-07-20T15:39:49.843177000Z 99%            5              7       Kurtosis       2.906247
2021-07-20T15:39:49.843232300Z 
2021-07-20T15:39:49.843238300Z . drop if household_size>=10
2021-07-20T15:39:49.848169900Z (0 observations deleted)
2021-07-20T15:39:49.848193100Z 
2021-07-20T15:39:49.848198900Z . count
2021-07-20T15:39:49.848555400Z   29,056
2021-07-20T15:39:49.848571000Z 
2021-07-20T15:39:49.848577500Z . 
2021-07-20T15:39:49.848582300Z . noi di "DROP MISSING GENDER:"
2021-07-20T15:39:49.848586500Z DROP MISSING GENDER:
2021-07-20T15:39:49.848590100Z 
2021-07-20T15:39:49.848594200Z . recode male .=9
2021-07-20T15:39:49.883591500Z (male: 0 changes made)
2021-07-20T15:39:49.888030700Z 
2021-07-20T15:39:49.888056900Z . recode male .u=9
2021-07-20T15:39:49.912282500Z (male: 0 changes made)
2021-07-20T15:39:49.914902600Z 
2021-07-20T15:39:49.914917000Z . bysort household_id: egen male_drop=max(male)
2021-07-20T15:39:50.021052700Z 
2021-07-20T15:39:50.021091100Z . drop if male_drop==9
2021-07-20T15:39:50.024041600Z (0 observations deleted)
2021-07-20T15:39:50.024063400Z 
2021-07-20T15:39:50.024068000Z . 
2021-07-20T15:39:50.024071800Z . noi di "DROP AGE MISSING:"
2021-07-20T15:39:50.024075800Z DROP AGE MISSING:
2021-07-20T15:39:50.024080100Z 
2021-07-20T15:39:50.024084000Z . recode age .=9
2021-07-20T15:39:50.050193400Z (age: 0 changes made)
2021-07-20T15:39:50.055221000Z 
2021-07-20T15:39:50.055237100Z . recode age .u=9
2021-07-20T15:39:50.081457300Z (age: 0 changes made)
2021-07-20T15:39:50.084136300Z 
2021-07-20T15:39:50.084172800Z . bysort household_id: egen age_drop=max(age)
2021-07-20T15:39:50.204476600Z 
2021-07-20T15:39:50.204502600Z . drop if age_drop==9
2021-07-20T15:39:50.210981600Z (3 observations deleted)
2021-07-20T15:39:50.211005000Z 
2021-07-20T15:39:50.211010400Z . 
2021-07-20T15:39:50.211014600Z . noi di "DROP IMD MISSING"
2021-07-20T15:39:50.211019000Z DROP IMD MISSING
2021-07-20T15:39:50.211023000Z 
2021-07-20T15:39:50.211027200Z . recode imd .=9
2021-07-20T15:39:50.228533600Z (imd: 0 changes made)
2021-07-20T15:39:50.232410600Z 
2021-07-20T15:39:50.232426500Z . recode imd .u=9
2021-07-20T15:39:50.253851100Z (imd: 0 changes made)
2021-07-20T15:39:50.257229100Z 
2021-07-20T15:39:50.257250900Z . bysort household_id: egen imd_drop=max(imd)
2021-07-20T15:39:50.323647400Z 
2021-07-20T15:39:50.323744100Z . drop if imd_drop==9
2021-07-20T15:39:50.326813500Z (0 observations deleted)
2021-07-20T15:39:50.326829500Z 
2021-07-20T15:39:50.326832400Z . 
2021-07-20T15:39:50.326834800Z . **************************** HOUSEHOLD VARS**********************************
2021-07-20T15:39:50.326837300Z > *********
2021-07-20T15:39:50.326839600Z . 
2021-07-20T15:39:50.326841900Z . *No kids/kids under 12/up to 18
2021-07-20T15:39:50.326844200Z . *Identify kids under 12, or kids under 18
2021-07-20T15:39:50.326846500Z . gen nokids=1 if age<5
2021-07-20T15:39:50.330093200Z (27,295 missing values generated)
2021-07-20T15:39:50.330106700Z 
2021-07-20T15:39:50.330109700Z . recode nokids .=2 if age<12
2021-07-20T15:39:50.356099900Z (nokids: 2513 changes made)
2021-07-20T15:39:50.359157100Z 
2021-07-20T15:39:50.359179600Z . recode nokids .=3 if age<18 
2021-07-20T15:39:50.383675700Z (nokids: 1967 changes made)
2021-07-20T15:39:50.386730000Z 
2021-07-20T15:39:50.386751100Z . 
2021-07-20T15:39:50.386756100Z . preserve
2021-07-20T15:39:50.391573200Z 
2021-07-20T15:39:50.391599700Z . keep if age<18
2021-07-20T15:39:50.396612400Z (22,815 observations deleted)
2021-07-20T15:39:50.396632200Z 
2021-07-20T15:39:50.396636600Z . keep household_id nokids
2021-07-20T15:39:50.397004800Z 
2021-07-20T15:39:50.397016500Z . duplicates drop
2021-07-20T15:39:50.398500700Z 
2021-07-20T15:39:50.398515200Z Duplicates in terms of all variables
2021-07-20T15:39:50.434527900Z 
2021-07-20T15:39:50.436764300Z (3,965 observations deleted)
2021-07-20T15:39:50.436783900Z 
2021-07-20T15:39:50.436789400Z . bysort household_id: replace nokids=4 if _N>1
2021-07-20T15:39:50.441187000Z (2,066 real changes made)
2021-07-20T15:39:50.441211600Z 
2021-07-20T15:39:50.441407700Z . duplicates drop
2021-07-20T15:39:50.442325900Z 
2021-07-20T15:39:50.442346000Z Duplicates in terms of all variables
2021-07-20T15:39:50.451637300Z 
2021-07-20T15:39:50.452596400Z (1,301 observations deleted)
2021-07-20T15:39:50.452613900Z 
2021-07-20T15:39:50.452617100Z . rename nokids kids_cat5
2021-07-20T15:39:50.452619700Z 
2021-07-20T15:39:50.452622000Z . list in 1/100
2021-07-20T15:39:50.453141600Z 
2021-07-20T15:39:50.453157000Z      +---------------------+
2021-07-20T15:39:50.453162400Z      | househ~d   kids_c~5 |
2021-07-20T15:39:50.453179100Z      |---------------------|
2021-07-20T15:39:50.453184000Z   1. |      314          3 |
2021-07-20T15:39:50.453187700Z   2. |      322          2 |
2021-07-20T15:39:50.453189900Z   3. |      336          2 |
2021-07-20T15:39:50.453192300Z   4. |      337          3 |
2021-07-20T15:39:50.453194500Z   5. |      347          1 |
2021-07-20T15:39:50.453196700Z      |---------------------|
2021-07-20T15:39:50.453198900Z   6. |      352          1 |
2021-07-20T15:39:50.453201000Z   7. |      381          2 |
2021-07-20T15:39:50.453203100Z   8. |      409          4 |
2021-07-20T15:39:50.453205300Z   9. |      410          2 |
2021-07-20T15:39:50.453207400Z  10. |      421          2 |
2021-07-20T15:39:50.453209700Z      |---------------------|
2021-07-20T15:39:50.453212000Z  11. |      425          2 |
2021-07-20T15:39:50.453214200Z  12. |      428          2 |
2021-07-20T15:39:50.453216400Z  13. |      430          1 |
2021-07-20T15:39:50.453218600Z  14. |      432          2 |
2021-07-20T15:39:50.453220700Z  15. |      435          1 |
2021-07-20T15:39:50.453222800Z      |---------------------|
2021-07-20T15:39:50.453224900Z  16. |      442          2 |
2021-07-20T15:39:50.453227200Z  17. |      443          3 |
2021-07-20T15:39:50.453229500Z  18. |      447          2 |
2021-07-20T15:39:50.453231700Z  19. |      448          3 |
2021-07-20T15:39:50.453234000Z  20. |      454          3 |
2021-07-20T15:39:50.453236100Z      |---------------------|
2021-07-20T15:39:50.453238300Z  21. |      458          2 |
2021-07-20T15:39:50.453240400Z  22. |      463          4 |
2021-07-20T15:39:50.453242500Z  23. |      464          2 |
2021-07-20T15:39:50.453244900Z  24. |      466          2 |
2021-07-20T15:39:50.453247200Z  25. |      467          4 |
2021-07-20T15:39:50.453249400Z      |---------------------|
2021-07-20T15:39:50.453251700Z  26. |      472          2 |
2021-07-20T15:39:50.453407700Z  27. |      476          3 |
2021-07-20T15:39:50.453460000Z  28. |      477          2 |
2021-07-20T15:39:50.453467900Z  29. |      478          2 |
2021-07-20T15:39:50.453470900Z  30. |      485          4 |
2021-07-20T15:39:50.453473100Z      |---------------------|
2021-07-20T15:39:50.453475300Z  31. |      487          3 |
2021-07-20T15:39:50.453477400Z  32. |      490          1 |
2021-07-20T15:39:50.453479500Z  33. |      491          2 |
2021-07-20T15:39:50.453481900Z  34. |      495          2 |
2021-07-20T15:39:50.453484100Z  35. |      499          4 |
2021-07-20T15:39:50.453493700Z      |---------------------|
2021-07-20T15:39:50.453496100Z  36. |      503          3 |
2021-07-20T15:39:50.453498300Z  37. |      507          3 |
2021-07-20T15:39:50.453500400Z  38. |      512          4 |
2021-07-20T15:39:50.453502500Z  39. |      514          1 |
2021-07-20T15:39:50.453504600Z  40. |      515          2 |
2021-07-20T15:39:50.453506900Z      |---------------------|
2021-07-20T15:39:50.453509200Z  41. |      523          2 |
2021-07-20T15:39:50.453511400Z  42. |      524          4 |
2021-07-20T15:39:50.453513600Z  43. |      525          2 |
2021-07-20T15:39:50.453515700Z  44. |      527          2 |
2021-07-20T15:39:50.453517800Z  45. |      528          4 |
2021-07-20T15:39:50.453520000Z      |---------------------|
2021-07-20T15:39:50.453522100Z  46. |      529          1 |
2021-07-20T15:39:50.453524400Z  47. |      530          4 |
2021-07-20T15:39:50.453526700Z  48. |      531          4 |
2021-07-20T15:39:50.453528900Z  49. |      532          1 |
2021-07-20T15:39:50.453531200Z  50. |      534          4 |
2021-07-20T15:39:50.453533300Z      |---------------------|
2021-07-20T15:39:50.453535400Z  51. |      535          2 |
2021-07-20T15:39:50.453537500Z  52. |      537          3 |
2021-07-20T15:39:50.453539600Z  53. |      540          4 |
2021-07-20T15:39:50.453541900Z  54. |      542          4 |
2021-07-20T15:39:50.453544200Z  55. |      544          3 |
2021-07-20T15:39:50.453751800Z      |---------------------|
2021-07-20T15:39:50.453762200Z  56. |      546          1 |
2021-07-20T15:39:50.453764800Z  57. |      549          2 |
2021-07-20T15:39:50.453767000Z  58. |      550          3 |
2021-07-20T15:39:50.453769400Z  59. |      551          3 |
2021-07-20T15:39:50.453771500Z  60. |      552          4 |
2021-07-20T15:39:50.453773700Z      |---------------------|
2021-07-20T15:39:50.453776000Z  61. |      553          2 |
2021-07-20T15:39:50.453778200Z  62. |      554          1 |
2021-07-20T15:39:50.453780300Z  63. |      555          4 |
2021-07-20T15:39:50.453782500Z  64. |      556          2 |
2021-07-20T15:39:50.453784700Z  65. |      558          2 |
2021-07-20T15:39:50.453786900Z      |---------------------|
2021-07-20T15:39:50.453789000Z  66. |      559          2 |
2021-07-20T15:39:50.453791300Z  67. |      560          2 |
2021-07-20T15:39:50.453794900Z  68. |      561          1 |
2021-07-20T15:39:50.453798700Z  69. |      562          3 |
2021-07-20T15:39:50.453802200Z  70. |      564          4 |
2021-07-20T15:39:50.453805700Z      |---------------------|
2021-07-20T15:39:50.453816200Z  71. |      566          3 |
2021-07-20T15:39:50.453820600Z  72. |      568          3 |
2021-07-20T15:39:50.453824100Z  73. |      569          3 |
2021-07-20T15:39:50.453827700Z  74. |      571          4 |
2021-07-20T15:39:50.453831600Z  75. |      572          1 |
2021-07-20T15:39:50.453835100Z      |---------------------|
2021-07-20T15:39:50.453838700Z  76. |      573          2 |
2021-07-20T15:39:50.453842200Z  77. |      574          4 |
2021-07-20T15:39:50.453845900Z  78. |      575          2 |
2021-07-20T15:39:50.453849400Z  79. |      577          1 |
2021-07-20T15:39:50.453853000Z  80. |      578          4 |
2021-07-20T15:39:50.453856800Z      |---------------------|
2021-07-20T15:39:50.453860800Z  81. |      579          2 |
2021-07-20T15:39:50.453864700Z  82. |      580          2 |
2021-07-20T15:39:50.453868600Z  83. |      582          1 |
2021-07-20T15:39:50.453980400Z  84. |      583          4 |
2021-07-20T15:39:50.454002500Z  85. |      585          4 |
2021-07-20T15:39:50.454007500Z      |---------------------|
2021-07-20T15:39:50.454011600Z  86. |      586          4 |
2021-07-20T15:39:50.454015300Z  87. |      587          2 |
2021-07-20T15:39:50.454017900Z  88. |      588          4 |
2021-07-20T15:39:50.454020000Z  89. |      590          2 |
2021-07-20T15:39:50.454022200Z  90. |      592          4 |
2021-07-20T15:39:50.454024400Z      |---------------------|
2021-07-20T15:39:50.454026600Z  91. |      593          3 |
2021-07-20T15:39:50.454028900Z  92. |      594          3 |
2021-07-20T15:39:50.454031100Z  93. |      595          4 |
2021-07-20T15:39:50.454033200Z  94. |      596          4 |
2021-07-20T15:39:50.454035300Z  95. |      597          2 |
2021-07-20T15:39:50.454037400Z      |---------------------|
2021-07-20T15:39:50.454039600Z  96. |      598          4 |
2021-07-20T15:39:50.454041800Z  97. |      599          3 |
2021-07-20T15:39:50.454044000Z  98. |      600          1 |
2021-07-20T15:39:50.454046200Z  99. |      601          4 |
2021-07-20T15:39:50.454048400Z 100. |      602          4 |
2021-07-20T15:39:50.454050500Z      +---------------------+
2021-07-20T15:39:50.454052700Z 
2021-07-20T15:39:50.454054900Z . save kids_mixed_category, replace
2021-07-20T15:39:50.454199200Z (note: file kids_mixed_category.dta not found)
2021-07-20T15:39:50.454209900Z file kids_mixed_category.dta saved
2021-07-20T15:39:50.454214500Z 
2021-07-20T15:39:50.454218300Z . restore
2021-07-20T15:39:50.457663300Z 
2021-07-20T15:39:50.457678000Z . 
2021-07-20T15:39:50.457681100Z . merge m:1 household_id using kids_mixed_category, nogen keep(master match)
2021-07-20T15:39:50.470871800Z 
2021-07-20T15:39:50.470892700Z     Result                           # of obs.
2021-07-20T15:39:50.470896100Z     -----------------------------------------
2021-07-20T15:39:50.470898500Z     not matched                           601
2021-07-20T15:39:50.470900700Z         from master                       601  
2021-07-20T15:39:50.470902900Z         from using                          0  
2021-07-20T15:39:50.470905200Z 
2021-07-20T15:39:50.470907300Z     matched                            28,452  
2021-07-20T15:39:50.470909700Z     -----------------------------------------
2021-07-20T15:39:50.470913700Z 
2021-07-20T15:39:50.470916100Z . 
2021-07-20T15:39:50.470918200Z . lab define   kids_cat5 0 none  1 "only <5 years" ///
2021-07-20T15:39:50.470921200Z > 2 "only 5-11" 3 "12-<18" 4 "mixed"
2021-07-20T15:39:50.471152100Z 
2021-07-20T15:39:50.471165900Z . lab val kids_cat5 kids_cat5
2021-07-20T15:39:50.471297300Z 
2021-07-20T15:39:50.471308500Z . recode kids_cat5 .=0
2021-07-20T15:39:50.482904000Z (kids_cat5: 601 changes made)
2021-07-20T15:39:50.484536600Z 
2021-07-20T15:39:50.484547500Z . tab kids_cat5
2021-07-20T15:39:50.487240900Z 
2021-07-20T15:39:50.487258500Z     kids_cat5 |      Freq.     Percent        Cum.
2021-07-20T15:39:50.487263400Z --------------+-----------------------------------
2021-07-20T15:39:50.487265800Z          none |        601        2.07        2.07
2021-07-20T15:39:50.487268000Z only <5 years |        348        1.20        3.27
2021-07-20T15:39:50.487270600Z     only 5-11 |        704        2.42        5.69
2021-07-20T15:39:50.487273000Z        12-<18 |        434        1.49        7.18
2021-07-20T15:39:50.487275400Z         mixed |     26,966       92.82      100.00
2021-07-20T15:39:50.487278100Z --------------+-----------------------------------
2021-07-20T15:39:50.487281800Z         Total |     29,053      100.00
2021-07-20T15:39:50.487285500Z 
2021-07-20T15:39:50.487289000Z . drop nokids
2021-07-20T15:39:50.488100800Z 
2021-07-20T15:39:50.488113600Z . 
2021-07-20T15:39:50.488117900Z . *Identify kids under 12, or kids under 18
2021-07-20T15:39:50.488121500Z . gen nokids=1 if age<12
2021-07-20T15:39:50.492007300Z (24,782 missing values generated)
2021-07-20T15:39:50.492028200Z 
2021-07-20T15:39:50.492032600Z . recode nokids .=2 if age<18 
2021-07-20T15:39:50.517462300Z (nokids: 1967 changes made)
2021-07-20T15:39:50.520475800Z 
2021-07-20T15:39:50.520496900Z . 
2021-07-20T15:39:50.520502100Z . preserve
2021-07-20T15:39:50.526388200Z 
2021-07-20T15:39:50.526420200Z . keep if age<18
2021-07-20T15:39:50.531578100Z (22,815 observations deleted)
2021-07-20T15:39:50.531600700Z 
2021-07-20T15:39:50.531606200Z . keep household_id nokids
2021-07-20T15:39:50.531801700Z 
2021-07-20T15:39:50.531816000Z . duplicates drop
2021-07-20T15:39:50.532557900Z 
2021-07-20T15:39:50.532570500Z Duplicates in terms of all variables
2021-07-20T15:39:50.557084800Z 
2021-07-20T15:39:50.558625000Z (4,570 observations deleted)
2021-07-20T15:39:50.558640600Z 
2021-07-20T15:39:50.558645700Z . bysort household_id: replace nokids=3 if _N>1
2021-07-20T15:39:50.560107900Z (1,392 real changes made)
2021-07-20T15:39:50.560122200Z 
2021-07-20T15:39:50.560126500Z . duplicates drop
2021-07-20T15:39:50.560476800Z 
2021-07-20T15:39:50.560488900Z Duplicates in terms of all variables
2021-07-20T15:39:50.566617600Z 
2021-07-20T15:39:50.567873500Z (696 observations deleted)
2021-07-20T15:39:50.567900700Z 
2021-07-20T15:39:50.567906200Z . rename nokids kids_cat4
2021-07-20T15:39:50.567910100Z 
2021-07-20T15:39:50.567914000Z . list in 1/100
2021-07-20T15:39:50.568808200Z 
2021-07-20T15:39:50.568832200Z      +---------------------+
2021-07-20T15:39:50.568837400Z      | househ~d   kids_c~4 |
2021-07-20T15:39:50.568841200Z      |---------------------|
2021-07-20T15:39:50.568844600Z   1. |      314          2 |
2021-07-20T15:39:50.568848300Z   2. |      322          1 |
2021-07-20T15:39:50.568852200Z   3. |      336          1 |
2021-07-20T15:39:50.568855700Z   4. |      337          2 |
2021-07-20T15:39:50.568859000Z   5. |      347          1 |
2021-07-20T15:39:50.568862600Z      |---------------------|
2021-07-20T15:39:50.568866100Z   6. |      352          1 |
2021-07-20T15:39:50.568869400Z   7. |      381          1 |
2021-07-20T15:39:50.568872900Z   8. |      409          3 |
2021-07-20T15:39:50.568876500Z   9. |      410          1 |
2021-07-20T15:39:50.568880300Z  10. |      421          1 |
2021-07-20T15:39:50.568884000Z      |---------------------|
2021-07-20T15:39:50.568887800Z  11. |      425          1 |
2021-07-20T15:39:50.568891500Z  12. |      428          1 |
2021-07-20T15:39:50.568997000Z  13. |      430          1 |
2021-07-20T15:39:50.569025000Z  14. |      432          1 |
2021-07-20T15:39:50.569046900Z  15. |      435          1 |
2021-07-20T15:39:50.569051400Z      |---------------------|
2021-07-20T15:39:50.569055000Z  16. |      442          1 |
2021-07-20T15:39:50.569058700Z  17. |      443          2 |
2021-07-20T15:39:50.569062400Z  18. |      447          1 |
2021-07-20T15:39:50.569066000Z  19. |      448          2 |
2021-07-20T15:39:50.569069900Z  20. |      454          2 |
2021-07-20T15:39:50.569073700Z      |---------------------|
2021-07-20T15:39:50.569077400Z  21. |      458          1 |
2021-07-20T15:39:50.569081300Z  22. |      463          3 |
2021-07-20T15:39:50.569085100Z  23. |      464          1 |
2021-07-20T15:39:50.569088500Z  24. |      466          1 |
2021-07-20T15:39:50.569092000Z  25. |      467          3 |
2021-07-20T15:39:50.569095200Z      |---------------------|
2021-07-20T15:39:50.569098600Z  26. |      472          1 |
2021-07-20T15:39:50.569391300Z  27. |      476          2 |
2021-07-20T15:39:50.569406600Z  28. |      477          1 |
2021-07-20T15:39:50.569411400Z  29. |      478          1 |
2021-07-20T15:39:50.569415500Z  30. |      485          3 |
2021-07-20T15:39:50.569419000Z      |---------------------|
2021-07-20T15:39:50.569422400Z  31. |      487          2 |
2021-07-20T15:39:50.569425900Z  32. |      490          1 |
2021-07-20T15:39:50.569429400Z  33. |      491          1 |
2021-07-20T15:39:50.569433000Z  34. |      495          1 |
2021-07-20T15:39:50.569437400Z  35. |      499          1 |
2021-07-20T15:39:50.569441100Z      |---------------------|
2021-07-20T15:39:50.569444400Z  36. |      503          2 |
2021-07-20T15:39:50.569447800Z  37. |      507          2 |
2021-07-20T15:39:50.569451200Z  38. |      512          3 |
2021-07-20T15:39:50.569455000Z  39. |      514          1 |
2021-07-20T15:39:50.569458900Z  40. |      515          1 |
2021-07-20T15:39:50.569462900Z      |---------------------|
2021-07-20T15:39:50.569467100Z  41. |      523          1 |
2021-07-20T15:39:50.569471200Z  42. |      524          3 |
2021-07-20T15:39:50.569474500Z  43. |      525          1 |
2021-07-20T15:39:50.569478000Z  44. |      527          1 |
2021-07-20T15:39:50.569481300Z  45. |      528          3 |
2021-07-20T15:39:50.569484500Z      |---------------------|
2021-07-20T15:39:50.569488200Z  46. |      529          1 |
2021-07-20T15:39:50.569491600Z  47. |      530          3 |
2021-07-20T15:39:50.569495300Z  48. |      531          1 |
2021-07-20T15:39:50.569506400Z  49. |      532          1 |
2021-07-20T15:39:50.569510900Z  50. |      534          3 |
2021-07-20T15:39:50.569515000Z      |---------------------|
2021-07-20T15:39:50.569518800Z  51. |      535          1 |
2021-07-20T15:39:50.569522400Z  52. |      537          2 |
2021-07-20T15:39:50.569527000Z  53. |      540          3 |
2021-07-20T15:39:50.569531100Z  54. |      542          3 |
2021-07-20T15:39:50.569552900Z  55. |      544          2 |
2021-07-20T15:39:50.569636500Z      |---------------------|
2021-07-20T15:39:50.569648900Z  56. |      546          1 |
2021-07-20T15:39:50.569653700Z  57. |      549          1 |
2021-07-20T15:39:50.569657800Z  58. |      550          2 |
2021-07-20T15:39:50.569661600Z  59. |      551          2 |
2021-07-20T15:39:50.569665800Z  60. |      552          1 |
2021-07-20T15:39:50.569669400Z      |---------------------|
2021-07-20T15:39:50.569673100Z  61. |      553          1 |
2021-07-20T15:39:50.569676700Z  62. |      554          1 |
2021-07-20T15:39:50.569680400Z  63. |      555          3 |
2021-07-20T15:39:50.569684000Z  64. |      556          1 |
2021-07-20T15:39:50.569687700Z  65. |      558          1 |
2021-07-20T15:39:50.569691500Z      |---------------------|
2021-07-20T15:39:50.569695400Z  66. |      559          1 |
2021-07-20T15:39:50.569699400Z  67. |      560          1 |
2021-07-20T15:39:50.569703200Z  68. |      561          1 |
2021-07-20T15:39:50.569706900Z  69. |      562          2 |
2021-07-20T15:39:50.569710500Z  70. |      564          3 |
2021-07-20T15:39:50.569714500Z      |---------------------|
2021-07-20T15:39:50.569718400Z  71. |      566          2 |
2021-07-20T15:39:50.569722000Z  72. |      568          2 |
2021-07-20T15:39:50.569725900Z  73. |      569          2 |
2021-07-20T15:39:50.569730000Z  74. |      571          3 |
2021-07-20T15:39:50.569734000Z  75. |      572          1 |
2021-07-20T15:39:50.569737800Z      |---------------------|
2021-07-20T15:39:50.569741100Z  76. |      573          1 |
2021-07-20T15:39:50.569744500Z  77. |      574          3 |
2021-07-20T15:39:50.569748000Z  78. |      575          1 |
2021-07-20T15:39:50.569751500Z  79. |      577          1 |
2021-07-20T15:39:50.569755400Z  80. |      578          3 |
2021-07-20T15:39:50.569759100Z      |---------------------|
2021-07-20T15:39:50.569762500Z  81. |      579          1 |
2021-07-20T15:39:50.569765900Z  82. |      580          1 |
2021-07-20T15:39:50.569768900Z  83. |      582          1 |
2021-07-20T15:39:50.569945200Z  84. |      583          1 |
2021-07-20T15:39:50.569967200Z  85. |      585          3 |
2021-07-20T15:39:50.569972900Z      |---------------------|
2021-07-20T15:39:50.569977000Z  86. |      586          3 |
2021-07-20T15:39:50.569980800Z  87. |      587          1 |
2021-07-20T15:39:50.569984500Z  88. |      588          3 |
2021-07-20T15:39:50.569988200Z  89. |      590          1 |
2021-07-20T15:39:50.569991700Z  90. |      592          3 |
2021-07-20T15:39:50.569995200Z      |---------------------|
2021-07-20T15:39:50.569999900Z  91. |      593          2 |
2021-07-20T15:39:50.570003500Z  92. |      594          2 |
2021-07-20T15:39:50.570007000Z  93. |      595          3 |
2021-07-20T15:39:50.570010600Z  94. |      596          3 |
2021-07-20T15:39:50.570014300Z  95. |      597          1 |
2021-07-20T15:39:50.570018000Z      |---------------------|
2021-07-20T15:39:50.570021800Z  96. |      598          1 |
2021-07-20T15:39:50.570025400Z  97. |      599          2 |
2021-07-20T15:39:50.570028900Z  98. |      600          1 |
2021-07-20T15:39:50.570032400Z  99. |      601          3 |
2021-07-20T15:39:50.570035800Z 100. |      602          3 |
2021-07-20T15:39:50.570038700Z      +---------------------+
2021-07-20T15:39:50.570041500Z 
2021-07-20T15:39:50.570044500Z . save kids_mixed_category, replace
2021-07-20T15:39:50.570245900Z file kids_mixed_category.dta saved
2021-07-20T15:39:50.570258400Z 
2021-07-20T15:39:50.570262800Z . restore
2021-07-20T15:39:50.574924200Z 
2021-07-20T15:39:50.574948000Z . 
2021-07-20T15:39:50.574960600Z . merge m:1 household_id using kids_mixed_category, nogen keep(master match)
2021-07-20T15:39:50.590146700Z 
2021-07-20T15:39:50.590169100Z     Result                           # of obs.
2021-07-20T15:39:50.590174800Z     -----------------------------------------
2021-07-20T15:39:50.590179000Z     not matched                           601
2021-07-20T15:39:50.590182900Z         from master                       601  
2021-07-20T15:39:50.590189200Z         from using                          0  
2021-07-20T15:39:50.590194200Z 
2021-07-20T15:39:50.590197200Z     matched                            28,452  
2021-07-20T15:39:50.590199500Z     -----------------------------------------
2021-07-20T15:39:50.590201700Z 
2021-07-20T15:39:50.590203800Z . 
2021-07-20T15:39:50.590205900Z . lab define   kids_cat4 0 none  1 "only <12 years" ///
2021-07-20T15:39:50.590208500Z > 2 "only 12-18" ///
2021-07-20T15:39:50.590210900Z > 3 "mixed"
2021-07-20T15:39:50.590355200Z 
2021-07-20T15:39:50.590369800Z . lab val kids_cat4 kids_cat4
2021-07-20T15:39:50.590374900Z 
2021-07-20T15:39:50.590378900Z . recode kids_cat4 .=0
2021-07-20T15:39:50.611212300Z (kids_cat4: 601 changes made)
2021-07-20T15:39:50.615158700Z 
2021-07-20T15:39:50.615183200Z . tab kids_cat4
2021-07-20T15:39:50.620124900Z 
2021-07-20T15:39:50.620148900Z      kids_cat4 |      Freq.     Percent        Cum.
2021-07-20T15:39:50.620154900Z ---------------+-----------------------------------
2021-07-20T15:39:50.620171400Z           none |        601        2.07        2.07
2021-07-20T15:39:50.620179700Z only <12 years |      2,422        8.34       10.41
2021-07-20T15:39:50.620184500Z     only 12-18 |        434        1.49       11.90
2021-07-20T15:39:50.620188600Z          mixed |     25,596       88.10      100.00
2021-07-20T15:39:50.620192500Z ---------------+-----------------------------------
2021-07-20T15:39:50.620196200Z          Total |     29,053      100.00
2021-07-20T15:39:50.620200100Z 
2021-07-20T15:39:50.620203900Z . 
2021-07-20T15:39:50.620207700Z . *Dose-response exposure
2021-07-20T15:39:50.620797800Z . bysort household_id: egen number_kids=sum(nokids) if kids_cat4==1
2021-07-20T15:39:50.738304500Z (26631 missing values generated)
2021-07-20T15:39:50.756175000Z 
2021-07-20T15:39:50.756201300Z . 
2021-07-20T15:39:50.756207800Z . gen gp_number_kids=number_kids
2021-07-20T15:39:50.761855500Z (26,631 missing values generated)
2021-07-20T15:39:50.761879500Z 
2021-07-20T15:39:50.761884900Z . recode gp_number_kids 4/max=4
2021-07-20T15:39:50.806879200Z (gp_number_kids: 773 changes made)
2021-07-20T15:39:50.811305700Z 
2021-07-20T15:39:50.811328400Z . 
2021-07-20T15:39:50.811368400Z . lab var gp_number_kids "Number kids under 12 years in hh"
2021-07-20T15:39:50.811376700Z 
2021-07-20T15:39:50.811381500Z . lab define   gp_number_kids 0 none ///
2021-07-20T15:39:50.811386000Z > 1 "1 child <12" ///
2021-07-20T15:39:50.811390800Z > 2 "2 children <12" ///
2021-07-20T15:39:50.811395100Z > 3 "3 children <12" ///
2021-07-20T15:39:50.811399300Z > 4 "4+ children <12"
2021-07-20T15:39:50.811550000Z 
2021-07-20T15:39:50.811565100Z . lab val gp_number_kids gp_number_kids
2021-07-20T15:39:50.811570200Z 
2021-07-20T15:39:50.811574100Z . 
2021-07-20T15:39:50.811578300Z . tab kids_cat4 
2021-07-20T15:39:50.816955400Z 
2021-07-20T15:39:50.816980900Z      kids_cat4 |      Freq.     Percent        Cum.
2021-07-20T15:39:50.817002700Z ---------------+-----------------------------------
2021-07-20T15:39:50.817008700Z           none |        601        2.07        2.07
2021-07-20T15:39:50.817013300Z only <12 years |      2,422        8.34       10.41
2021-07-20T15:39:50.817018000Z     only 12-18 |        434        1.49       11.90
2021-07-20T15:39:50.817022000Z          mixed |     25,596       88.10      100.00
2021-07-20T15:39:50.817024400Z ---------------+-----------------------------------
2021-07-20T15:39:50.817026900Z          Total |     29,053      100.00
2021-07-20T15:39:50.817029300Z 
2021-07-20T15:39:50.817031600Z . tab kids_cat5
2021-07-20T15:39:50.823349500Z 
2021-07-20T15:39:50.823372100Z     kids_cat5 |      Freq.     Percent        Cum.
2021-07-20T15:39:50.823377800Z --------------+-----------------------------------
2021-07-20T15:39:50.823382100Z          none |        601        2.07        2.07
2021-07-20T15:39:50.823386000Z only <5 years |        348        1.20        3.27
2021-07-20T15:39:50.823390500Z     only 5-11 |        704        2.42        5.69
2021-07-20T15:39:50.823394500Z        12-<18 |        434        1.49        7.18
2021-07-20T15:39:50.823398600Z         mixed |     26,966       92.82      100.00
2021-07-20T15:39:50.823402400Z --------------+-----------------------------------
2021-07-20T15:39:50.823406100Z         Total |     29,053      100.00
2021-07-20T15:39:50.823410100Z 
2021-07-20T15:39:50.823413600Z . tab kids_cat*
2021-07-20T15:39:50.830904200Z 
2021-07-20T15:39:50.830938500Z               |                  kids_cat4
2021-07-20T15:39:50.830944000Z     kids_cat5 |      none  only <12   only 12-1      mixed |     Total
2021-07-20T15:39:50.830949000Z --------------+--------------------------------------------+----------
2021-07-20T15:39:50.830978100Z          none |       601          0          0          0 |       601 
2021-07-20T15:39:50.830987300Z only <5 years |         0        348          0          0 |       348 
2021-07-20T15:39:50.830992100Z     only 5-11 |         0        704          0          0 |       704 
2021-07-20T15:39:50.830996400Z        12-<18 |         0          0        434          0 |       434 
2021-07-20T15:39:50.831000800Z         mixed |         0      1,370          0     25,596 |    26,966 
2021-07-20T15:39:50.831005000Z --------------+--------------------------------------------+----------
2021-07-20T15:39:50.831009200Z         Total |       601      2,422        434     25,596 |    29,053 
2021-07-20T15:39:50.831015000Z 
2021-07-20T15:39:50.831019200Z . 
2021-07-20T15:39:50.831023400Z . /* DROP ALL KIDS, AS HH COMPOSITION VARS ARE NOW MADE */
2021-07-20T15:39:50.831027900Z . drop if age<18
2021-07-20T15:39:50.841418800Z (6,238 observations deleted)
2021-07-20T15:39:50.841446900Z 
2021-07-20T15:39:50.841452300Z . 
2021-07-20T15:39:50.841456500Z . *Total number adults in household (to check hh size)
2021-07-20T15:39:50.841460900Z . bysort household_id: gen tot_adults_hh=_N
2021-07-20T15:39:50.848534200Z 
2021-07-20T15:39:50.848568500Z . recode tot_adults_hh 3/max=3
2021-07-20T15:39:50.877551600Z (tot_adults_hh: 22397 changes made)
2021-07-20T15:39:50.881314500Z 
2021-07-20T15:39:50.881329500Z . 
2021-07-20T15:39:50.881333100Z . tab kids_cat4
2021-07-20T15:39:50.886061800Z 
2021-07-20T15:39:50.886105500Z      kids_cat4 |      Freq.     Percent        Cum.
2021-07-20T15:39:50.886115800Z ---------------+-----------------------------------
2021-07-20T15:39:50.886121700Z           none |        601        2.63        2.63
2021-07-20T15:39:50.886141600Z only <12 years |      1,953        8.56       11.19
2021-07-20T15:39:50.886164400Z     only 12-18 |        357        1.56       12.76
2021-07-20T15:39:50.886172400Z          mixed |     19,904       87.24      100.00
2021-07-20T15:39:50.886175600Z ---------------+-----------------------------------
2021-07-20T15:39:50.886178000Z          Total |     22,815      100.00
2021-07-20T15:39:50.886180500Z 
2021-07-20T15:39:50.886182900Z . tab gp_num if kids_cat4==1
2021-07-20T15:39:50.889656300Z 
2021-07-20T15:39:50.889679300Z     Number kids |
2021-07-20T15:39:50.889685300Z  under 12 years |
2021-07-20T15:39:50.889689600Z           in hh |      Freq.     Percent        Cum.
2021-07-20T15:39:50.889694200Z ----------------+-----------------------------------
2021-07-20T15:39:50.889698700Z     1 child <12 |        588       30.11       30.11
2021-07-20T15:39:50.889719800Z  2 children <12 |        333       17.05       47.16
2021-07-20T15:39:50.889727600Z  3 children <12 |        257       13.16       60.32
2021-07-20T15:39:50.889731600Z 4+ children <12 |        775       39.68      100.00
2021-07-20T15:39:50.889735700Z ----------------+-----------------------------------
2021-07-20T15:39:50.889739500Z           Total |      1,953      100.00
2021-07-20T15:39:50.889743300Z 
2021-07-20T15:39:50.889747000Z . 
2021-07-20T15:39:50.889751200Z . 
2021-07-20T15:39:50.889755200Z . /* SET FU DATES==============================================================
2021-07-20T15:39:50.889759200Z > =*/
2021-07-20T15:39:50.889763500Z . * Censoring dates for each outcome (largely, last date outcome data available
2021-07-20T15:39:50.889767900Z > )
2021-07-20T15:39:50.889772000Z . *****NEEDS UPDATING WHEN INFO AVAILABLE*******************
2021-07-20T15:39:50.889789900Z . global tpp_infec_censor                 = "01/02/2020"
2021-07-20T15:39:50.889795700Z 
2021-07-20T15:39:50.889800200Z . 
2021-07-20T15:39:50.889804100Z . *Start dates
2021-07-20T15:39:50.889807800Z . global indexdate                            = "01/02/2019"
2021-07-20T15:39:50.889811700Z 
2021-07-20T15:39:50.889815700Z . 
2021-07-20T15:39:50.889819500Z . 
2021-07-20T15:39:50.889824600Z . * Some names too long for loops below, shorten
2021-07-20T15:39:50.889833700Z . rename permanent_immunodeficiency_date  perm_immunodef_date
2021-07-20T15:39:50.890114400Z 
2021-07-20T15:39:50.890129300Z . rename temporary_immunodeficiency_date  temp_immunodef_date
2021-07-20T15:39:50.890264600Z 
2021-07-20T15:39:50.890279500Z . rename bmi_date_measured_date                   bmi_measured_date
2021-07-20T15:39:50.890418800Z 
2021-07-20T15:39:50.890432500Z . rename dereg_date_date                                          dereg_date
2021-07-20T15:39:50.890570700Z 
2021-07-20T15:39:50.890586000Z . 
2021-07-20T15:39:50.890592000Z . /* CREATE BINARY VARIABLES===================================================
2021-07-20T15:39:50.890597200Z > =*/
2021-07-20T15:39:50.890601600Z . *  Make indicator variables for all conditions where relevant
2021-07-20T15:39:50.890606200Z . 
2021-07-20T15:39:50.890612500Z . foreach var of varlist  chronic_respiratory_disease ///
2021-07-20T15:39:50.890617400Z >                                                 chronic_cardiac_disease  ///
2021-07-20T15:39:50.890621800Z >                                                 diabetes_date  ///
2021-07-20T15:39:50.890626100Z >                                                 cancer_haem  ///
2021-07-20T15:39:50.890630500Z >                                                 cancer_nonhaem  ///
2021-07-20T15:39:50.890634900Z >                                                 perm_immunodef  ///
2021-07-20T15:39:50.890640000Z >                                                 temp_immunodef  ///
2021-07-20T15:39:50.890710200Z >                                                 dialysis                     
2021-07-20T15:39:50.890723700Z >                    ///
2021-07-20T15:39:50.890728600Z >                                                 kidney_transplant            
2021-07-20T15:39:50.890733200Z >            ///
2021-07-20T15:39:50.890737400Z >                                                 other_transplant             
2021-07-20T15:39:50.890742100Z >            ///                     ///
2021-07-20T15:39:50.890746600Z >                                                 asplenia                     
2021-07-20T15:39:50.890762700Z >    ///
2021-07-20T15:39:50.890767700Z >                                                 chronic_liver_disease  ///
2021-07-20T15:39:50.890772100Z >                                                 other_neuro  ///
2021-07-20T15:39:50.890776300Z >                                                 stroke_dementia              
2021-07-20T15:39:50.890781000Z >            ///
2021-07-20T15:39:50.890785100Z >                                                 esrf  ///
2021-07-20T15:39:50.890789900Z >                                                 hypertension  ///
2021-07-20T15:39:50.890794100Z >                                                 ra_sle_psoriasis  ///
2021-07-20T15:39:50.890798300Z >                                                 bmi_measured_date   ///
2021-07-20T15:39:50.890802600Z >                                                 bp_sys_date_measured   ///
2021-07-20T15:39:50.890806900Z >                                                 bp_dias_date_measured   ///
2021-07-20T15:39:50.890810900Z >                                                 creatinine_date  ///
2021-07-20T15:39:50.890814800Z >                                                 smoking_status_date ///
2021-07-20T15:39:50.890818400Z >                                                 {
2021-07-20T15:39:50.890823200Z   2. 
2021-07-20T15:39:50.890827300Z .         /* date ranges are applied in python, so presence of date indicates p
2021-07-20T15:39:50.890863200Z > resence of
2021-07-20T15:39:50.890871700Z >           disease in the correct time frame */
2021-07-20T15:39:50.890876300Z .         local newvar =  substr("`var'", 1, length("`var'") - 5)
2021-07-20T15:39:50.890880700Z   3.         gen `newvar' = (`var'!=. )
2021-07-20T15:39:50.890884900Z   4.         order `newvar', after(`var')
2021-07-20T15:39:50.890890300Z   5. 
2021-07-20T15:39:50.890895000Z . }
2021-07-20T15:39:50.998473900Z 
2021-07-20T15:39:50.998497200Z . 
2021-07-20T15:39:50.998502800Z . 
2021-07-20T15:39:50.998507000Z . 
2021-07-20T15:39:50.998510900Z . 
2021-07-20T15:39:50.998514900Z . /*  Body Mass Index  */
2021-07-20T15:39:50.998518900Z . * NB: watch for missingness
2021-07-20T15:39:50.998523600Z . 
2021-07-20T15:39:50.998527900Z . * Recode strange values
2021-07-20T15:39:50.998532500Z . replace bmi = . if bmi == 0
2021-07-20T15:39:51.001764300Z (1,126 real changes made, 1,126 to missing)
2021-07-20T15:39:51.001788000Z 
2021-07-20T15:39:51.001792600Z . replace bmi = . if !inrange(bmi, 15, 50)
2021-07-20T15:39:51.006061900Z (1,935 real changes made, 1,935 to missing)
2021-07-20T15:39:51.006116900Z 
2021-07-20T15:39:51.006137700Z . 
2021-07-20T15:39:51.006141300Z . * Restrict to within 10 years of index and aged > 16
2021-07-20T15:39:51.006144200Z . gen bmi_time = (date("$indexdate", "DMY") - bmi_measured_date)/365.25
2021-07-20T15:39:51.025018500Z (1,126 missing values generated)
2021-07-20T15:39:51.025040800Z 
2021-07-20T15:39:51.025046700Z . gen bmi_age = age - bmi_time
2021-07-20T15:39:51.027928800Z (1,126 missing values generated)
2021-07-20T15:39:51.027948100Z 
2021-07-20T15:39:51.027953100Z . 
2021-07-20T15:39:51.027956800Z . replace bmi = . if bmi_age < 16
2021-07-20T15:39:51.031234200Z (7,065 real changes made, 7,065 to missing)
2021-07-20T15:39:51.031257700Z 
2021-07-20T15:39:51.031263100Z . replace bmi = . if bmi_time > 10 & bmi_time != .
2021-07-20T15:39:51.036920200Z (8,051 real changes made, 8,051 to missing)
2021-07-20T15:39:51.036943000Z 
2021-07-20T15:39:51.036947800Z . 
2021-07-20T15:39:51.036951900Z . * Set to missing if no date, and vice versa
2021-07-20T15:39:51.036957600Z . replace bmi = . if bmi_measured_date == .
2021-07-20T15:39:51.039698700Z (0 real changes made)
2021-07-20T15:39:51.039714300Z 
2021-07-20T15:39:51.039719700Z . replace bmi_measured_date = . if bmi == .
2021-07-20T15:39:51.045041600Z (17,051 real changes made, 17,051 to missing)
2021-07-20T15:39:51.045061600Z 
2021-07-20T15:39:51.045066900Z . replace bmi_measured = . if bmi == .
2021-07-20T15:39:51.050812600Z (18,177 real changes made, 18,177 to missing)
2021-07-20T15:39:51.050835000Z 
2021-07-20T15:39:51.050839900Z . 
2021-07-20T15:39:51.050843900Z . gen     bmicat = .
2021-07-20T15:39:51.051653000Z (22,815 missing values generated)
2021-07-20T15:39:51.051668700Z 
2021-07-20T15:39:51.051674000Z . recode  bmicat . = 1 if bmi < 18.5
2021-07-20T15:39:51.086982700Z (bmicat: 138 changes made)
2021-07-20T15:39:51.094687300Z 
2021-07-20T15:39:51.094908700Z . recode  bmicat . = 2 if bmi < 25
2021-07-20T15:39:51.115716600Z (bmicat: 524 changes made)
2021-07-20T15:39:51.117723000Z 
2021-07-20T15:39:51.117740200Z . recode  bmicat . = 3 if bmi < 30
2021-07-20T15:39:51.133359500Z (bmicat: 758 changes made)
2021-07-20T15:39:51.136095500Z 
2021-07-20T15:39:51.136112500Z . recode  bmicat . = 4 if bmi < 35
2021-07-20T15:39:51.158478300Z (bmicat: 966 changes made)
2021-07-20T15:39:51.160961400Z 
2021-07-20T15:39:51.160981000Z . recode  bmicat . = 5 if bmi < 40
2021-07-20T15:39:51.179955900Z (bmicat: 1006 changes made)
2021-07-20T15:39:51.181668500Z 
2021-07-20T15:39:51.181685000Z . recode  bmicat . = 6 if bmi < .
2021-07-20T15:39:51.202158600Z (bmicat: 1246 changes made)
2021-07-20T15:39:51.204838800Z 
2021-07-20T15:39:51.204854200Z . replace bmicat = .u if bmi >= .
2021-07-20T15:39:51.208794000Z (18,177 real changes made, 18,177 to missing)
2021-07-20T15:39:51.208819400Z 
2021-07-20T15:39:51.208823000Z . 
2021-07-20T15:39:51.208825500Z . label define bmicat 1 "Underweight (<18.5)"     ///
2021-07-20T15:39:51.208828400Z >                                         2 "Normal (18.5-24.9)"          ///
2021-07-20T15:39:51.208831100Z >                                         3 "Overweight (25-29.9)"        ///
2021-07-20T15:39:51.208833600Z >                                         4 "Obese I (30-34.9)"           ///
2021-07-20T15:39:51.208836100Z >                                         5 "Obese II (35-39.9)"          ///
2021-07-20T15:39:51.208838900Z >                                         6 "Obese III (40+)"                  
2021-07-20T15:39:51.208841500Z >    ///
2021-07-20T15:39:51.208843900Z >                                         .u "Unknown (.u)"
2021-07-20T15:39:51.208846500Z 
2021-07-20T15:39:51.208848800Z . 
2021-07-20T15:39:51.208851200Z . label values bmicat bmicat
2021-07-20T15:39:51.209079200Z 
2021-07-20T15:39:51.209094100Z . 
2021-07-20T15:39:51.209099400Z . * Create less  granular categorisation
2021-07-20T15:39:51.209104700Z . recode bmicat 1/3 .u = 1 4 = 2 5 = 3 6 = 4, gen(obese4cat)
2021-07-20T15:39:51.258782700Z (22677 differences between bmicat and obese4cat)
2021-07-20T15:39:51.265718800Z 
2021-07-20T15:39:51.265742900Z . 
2021-07-20T15:39:51.265748600Z . label define obese4cat  1 "No record of obesity"        ///
2021-07-20T15:39:51.265753600Z >                                                 2 "Obese I (30-34.9)"        
2021-07-20T15:39:51.265758300Z >    ///
2021-07-20T15:39:51.265762200Z >                                                 3 "Obese II (35-39.9)"       
2021-07-20T15:39:51.265766900Z >    ///
2021-07-20T15:39:51.265770700Z >                                                 4 "Obese III (40+)"
2021-07-20T15:39:51.265775000Z 
2021-07-20T15:39:51.265779100Z . 
2021-07-20T15:39:51.265783000Z . label values obese4cat obese4cat
2021-07-20T15:39:51.265846000Z 
2021-07-20T15:39:51.265859400Z . order obese4cat, after(bmicat)
2021-07-20T15:39:51.266377400Z 
2021-07-20T15:39:51.266392400Z . 
2021-07-20T15:39:51.266397300Z . 
2021-07-20T15:39:51.266415700Z . /*  Smoking  */
2021-07-20T15:39:51.266420100Z . 
2021-07-20T15:39:51.266424000Z . * Smoking
2021-07-20T15:39:51.266428200Z . label define smoke 1 "Never" 2 "Former" 3 "Current" .u "Unknown (.u)"
2021-07-20T15:39:51.266532300Z 
2021-07-20T15:39:51.266546400Z . 
2021-07-20T15:39:51.266552100Z . gen     smoke = 1  if smoking_status == "N"
2021-07-20T15:39:51.270462900Z (21,912 missing values generated)
2021-07-20T15:39:51.270480100Z 
2021-07-20T15:39:51.270484600Z . replace smoke = 2  if smoking_status == "E"
2021-07-20T15:39:51.274709200Z (456 real changes made)
2021-07-20T15:39:51.274730700Z 
2021-07-20T15:39:51.274736300Z . replace smoke = 3  if smoking_status == "S"
2021-07-20T15:39:51.279168200Z (2,792 real changes made)
2021-07-20T15:39:51.279190100Z 
2021-07-20T15:39:51.279194400Z . replace smoke = .u if smoking_status == "M"
2021-07-20T15:39:51.283212700Z (435 real changes made, 435 to missing)
2021-07-20T15:39:51.283233000Z 
2021-07-20T15:39:51.283237400Z . replace smoke = .u if smoking_status == ""
2021-07-20T15:39:51.288485600Z (18,229 real changes made, 18,229 to missing)
2021-07-20T15:39:51.288541000Z 
2021-07-20T15:39:51.288547200Z . 
2021-07-20T15:39:51.288549900Z . label values smoke smoke
2021-07-20T15:39:51.288552400Z 
2021-07-20T15:39:51.288554700Z . drop smoking_status
2021-07-20T15:39:51.289924000Z 
2021-07-20T15:39:51.289943300Z . 
2021-07-20T15:39:51.289949200Z . * Create non-missing 3-category variable for current smoking
2021-07-20T15:39:51.289953600Z . * Assumes missing smoking is never smoking
2021-07-20T15:39:51.289957600Z . recode smoke .u = 1, gen(smoke_nomiss)
2021-07-20T15:39:51.306474400Z (18664 differences between smoke and smoke_nomiss)
2021-07-20T15:39:51.313693500Z 
2021-07-20T15:39:51.313715000Z . order smoke_nomiss, after(smoke)
2021-07-20T15:39:51.314144500Z 
2021-07-20T15:39:51.314159000Z . label values smoke_nomiss smoke
2021-07-20T15:39:51.314162900Z 
2021-07-20T15:39:51.314165300Z . 
2021-07-20T15:39:51.314168500Z . /* CLINICAL COMORBIDITIES */
2021-07-20T15:39:51.314172500Z . 
2021-07-20T15:39:51.314176400Z . /*  Cancer */
2021-07-20T15:39:51.314180700Z . label define cancer 1 "Never" 2 "Last year" 3 "2-5 years ago" 4 "5+ years"
2021-07-20T15:39:51.314360200Z 
2021-07-20T15:39:51.314373200Z . 
2021-07-20T15:39:51.314378200Z . * Haematological malignancies
2021-07-20T15:39:51.314382500Z . gen     cancer_haem_cat = 4 if inrange(cancer_haem_date, d(1/1/1900), d(1/2/2
2021-07-20T15:39:51.314397000Z > 015))
2021-07-20T15:39:51.316803700Z (18,613 missing values generated)
2021-07-20T15:39:51.316817000Z 
2021-07-20T15:39:51.316821700Z . replace cancer_haem_cat = 3 if inrange(cancer_haem_date, d(1/2/2015), d(1/2/2
2021-07-20T15:39:51.316825900Z > 019))
2021-07-20T15:39:51.320258300Z (382 real changes made)
2021-07-20T15:39:51.320278400Z 
2021-07-20T15:39:51.320281900Z . replace cancer_haem_cat = 2 if inrange(cancer_haem_date, d(1/2/2019), d(1/2/2
2021-07-20T15:39:51.320284700Z > 020))
2021-07-20T15:39:51.322409900Z (0 real changes made)
2021-07-20T15:39:51.322421000Z 
2021-07-20T15:39:51.322424600Z . recode  cancer_haem_cat . = 1
2021-07-20T15:39:51.355564200Z (cancer_haem_cat: 18231 changes made)
2021-07-20T15:39:51.362550200Z 
2021-07-20T15:39:51.362574500Z . label values cancer_haem_cat cancer
2021-07-20T15:39:51.362751700Z 
2021-07-20T15:39:51.362767100Z . 
2021-07-20T15:39:51.362772900Z . 
2021-07-20T15:39:51.362777000Z . * All other cancers
2021-07-20T15:39:51.362780900Z . gen     cancer_exhaem_cat = 4 if inrange(cancer_nonhaem_date,  d(1/1/1900), d
2021-07-20T15:39:51.362785000Z > (1/2/2015))
2021-07-20T15:39:51.366072700Z (18,586 missing values generated)
2021-07-20T15:39:51.366092900Z 
2021-07-20T15:39:51.366099000Z . replace cancer_exhaem_cat = 3 if inrange(cancer_nonhaem_date,  d(1/2/2015), d
2021-07-20T15:39:51.366104600Z > (1/2/2019))
2021-07-20T15:39:51.378556300Z (375 real changes made)
2021-07-20T15:39:51.378581500Z 
2021-07-20T15:39:51.378587600Z . replace cancer_exhaem_cat = 2 if inrange(cancer_nonhaem_date,  d(1/2/2019), d
2021-07-20T15:39:51.378592300Z > (1/2/2020))
2021-07-20T15:39:51.381021500Z (0 real changes made)
2021-07-20T15:39:51.381044200Z 
2021-07-20T15:39:51.381050200Z . recode  cancer_exhaem_cat . = 1
2021-07-20T15:39:51.414835700Z (cancer_exhaem_cat: 18211 changes made)
2021-07-20T15:39:51.419615200Z 
2021-07-20T15:39:51.419640900Z . label values cancer_exhaem_cat cancer
2021-07-20T15:39:51.419750100Z 
2021-07-20T15:39:51.419765500Z . 
2021-07-20T15:39:51.419770800Z . 
2021-07-20T15:39:51.419774500Z . /*  Immunosuppression  */
2021-07-20T15:39:51.419778300Z . 
2021-07-20T15:39:51.419782000Z . * Immunosuppressed:
2021-07-20T15:39:51.419786200Z . * Permanent immunodeficiency ever, OR
2021-07-20T15:39:51.419790100Z . * Temporary immunodeficiency  last year
2021-07-20T15:39:51.419794300Z . gen temp1  = 1 if perm_immunodef_date!=.
2021-07-20T15:39:51.422750500Z (18,233 missing values generated)
2021-07-20T15:39:51.422801700Z 
2021-07-20T15:39:51.422810900Z . gen temp2  = inrange(temp_immunodef_date, (date("$indexdate", "DMY") - 365), 
2021-07-20T15:39:51.422814500Z > date("$indexdate", "DMY"))
2021-07-20T15:39:51.453102500Z 
2021-07-20T15:39:51.453168800Z . 
2021-07-20T15:39:51.453175000Z . egen other_immuno = rowmax(temp1 temp2)
2021-07-20T15:39:51.463850800Z 
2021-07-20T15:39:51.463871300Z . drop temp1 temp2
2021-07-20T15:39:51.464508000Z 
2021-07-20T15:39:51.464529100Z . order other_immuno, after(temp_immunodef)
2021-07-20T15:39:51.467242100Z 
2021-07-20T15:39:51.467288200Z . 
2021-07-20T15:39:51.467294700Z . /*  Blood pressure   */
2021-07-20T15:39:51.467299900Z . 
2021-07-20T15:39:51.467302400Z . * Categorise
2021-07-20T15:39:51.467305000Z . gen     bpcat = 1 if bp_sys < 120 &  bp_dias < 80
2021-07-20T15:39:51.472398200Z (21,656 missing values generated)
2021-07-20T15:39:51.472421800Z 
2021-07-20T15:39:51.472428000Z . replace bpcat = 2 if inrange(bp_sys, 120, 130) & bp_dias<80
2021-07-20T15:39:51.475685300Z (0 real changes made)
2021-07-20T15:39:51.475709800Z 
2021-07-20T15:39:51.475714400Z . replace bpcat = 3 if inrange(bp_sys, 130, 140) | inrange(bp_dias, 80, 90)
2021-07-20T15:39:51.479032200Z (24 real changes made)
2021-07-20T15:39:51.479059100Z 
2021-07-20T15:39:51.479065200Z . replace bpcat = 4 if (bp_sys>=140 & bp_sys<.) | (bp_dias>=90 & bp_dias<.)
2021-07-20T15:39:51.483732500Z (21,632 real changes made)
2021-07-20T15:39:51.483749400Z 
2021-07-20T15:39:51.483752500Z . replace bpcat = .u if bp_sys>=. | bp_dias>=. | bp_sys==0 | bp_dias==0
2021-07-20T15:39:51.487818400Z (2,236 real changes made, 2,236 to missing)
2021-07-20T15:39:51.487838400Z 
2021-07-20T15:39:51.487843500Z . 
2021-07-20T15:39:51.487847800Z . label define bpcat 1 "Normal" 2 "Elevated" 3 "High, stage I"    ///
2021-07-20T15:39:51.487852500Z >                                         4 "High, stage II" .u "Unknown"
2021-07-20T15:39:51.487967600Z 
2021-07-20T15:39:51.487980900Z . label values bpcat bpcat
2021-07-20T15:39:51.488166100Z 
2021-07-20T15:39:51.488179100Z . 
2021-07-20T15:39:51.488184200Z . recode bpcat .u=1, gen(bpcat_nomiss)
2021-07-20T15:39:51.499283300Z (2236 differences between bpcat and bpcat_nomiss)
2021-07-20T15:39:51.505369900Z 
2021-07-20T15:39:51.505396400Z . label values bpcat_nomiss bpcat
2021-07-20T15:39:51.505415700Z 
2021-07-20T15:39:51.505420000Z . 
2021-07-20T15:39:51.505424100Z . * Create non-missing indicator of known high blood pressure
2021-07-20T15:39:51.505428200Z . gen bphigh = (bpcat==4)
2021-07-20T15:39:51.506895800Z 
2021-07-20T15:39:51.506914600Z . 
2021-07-20T15:39:51.506920300Z . /*  Hypertension  */
2021-07-20T15:39:51.506924800Z . 
2021-07-20T15:39:51.506929100Z . gen htdiag_or_highbp = bphigh
2021-07-20T15:39:51.507874700Z 
2021-07-20T15:39:51.507886400Z . recode htdiag_or_highbp 0 = 1 if hypertension==1
2021-07-20T15:39:51.524368900Z (htdiag_or_highbp: 443 changes made)
2021-07-20T15:39:51.526834000Z 
2021-07-20T15:39:51.526857500Z . 
2021-07-20T15:39:51.526862500Z . 
2021-07-20T15:39:51.526865000Z . ************
2021-07-20T15:39:51.526867400Z . *   eGFR   *
2021-07-20T15:39:51.526869700Z . ************
2021-07-20T15:39:51.526872200Z . 
2021-07-20T15:39:51.526874700Z . * Set implausible creatinine values to missing (Note: zero changed to missing
2021-07-20T15:39:51.526877200Z > )
2021-07-20T15:39:51.526879900Z . replace creatinine = . if !inrange(creatinine, 20, 3000)
2021-07-20T15:39:51.529426100Z (1,192 real changes made, 1,192 to missing)
2021-07-20T15:39:51.529520500Z 
2021-07-20T15:39:51.529531300Z . 
2021-07-20T15:39:51.529536200Z . * Divide by 88.4 (to convert umol/l to mg/dl)
2021-07-20T15:39:51.529540600Z . gen SCr_adj = creatinine/88.4
2021-07-20T15:39:51.531431000Z (1,192 missing values generated)
2021-07-20T15:39:51.531442900Z 
2021-07-20T15:39:51.531445700Z . 
2021-07-20T15:39:51.531448100Z . gen min=.
2021-07-20T15:39:51.532186900Z (22,815 missing values generated)
2021-07-20T15:39:51.532198500Z 
2021-07-20T15:39:51.532201200Z . replace min = SCr_adj/0.7 if male==0
2021-07-20T15:39:51.535541200Z (10,975 real changes made)
2021-07-20T15:39:51.535561400Z 
2021-07-20T15:39:51.535567400Z . replace min = SCr_adj/0.9 if male==1
2021-07-20T15:39:51.538754100Z (10,648 real changes made)
2021-07-20T15:39:51.538770600Z 
2021-07-20T15:39:51.538775200Z . replace min = min^-0.329  if male==0
2021-07-20T15:39:51.542807300Z (10,975 real changes made)
2021-07-20T15:39:51.542850800Z 
2021-07-20T15:39:51.542858800Z . replace min = min^-0.411  if male==1
2021-07-20T15:39:51.546860200Z (10,648 real changes made)
2021-07-20T15:39:51.546889800Z 
2021-07-20T15:39:51.546895500Z . replace min = 1 if min<1
2021-07-20T15:39:51.549530200Z (5,924 real changes made)
2021-07-20T15:39:51.549550500Z 
2021-07-20T15:39:51.549553700Z . 
2021-07-20T15:39:51.549556100Z . gen max=.
2021-07-20T15:39:51.550384900Z (22,815 missing values generated)
2021-07-20T15:39:51.550434300Z 
2021-07-20T15:39:51.550444300Z . replace max=SCr_adj/0.7 if male==0
2021-07-20T15:39:51.553996400Z (10,975 real changes made)
2021-07-20T15:39:51.554016200Z 
2021-07-20T15:39:51.554020600Z . replace max=SCr_adj/0.9 if male==1
2021-07-20T15:39:51.557202600Z (10,648 real changes made)
2021-07-20T15:39:51.557225000Z 
2021-07-20T15:39:51.557230600Z . replace max=max^-1.209
2021-07-20T15:39:51.561519100Z (21,623 real changes made)
2021-07-20T15:39:51.561538100Z 
2021-07-20T15:39:51.561541200Z . replace max=1 if max>1
2021-07-20T15:39:51.565324100Z (16,891 real changes made)
2021-07-20T15:39:51.565341900Z 
2021-07-20T15:39:51.565345500Z . 
2021-07-20T15:39:51.565348100Z . gen egfr=min*max*141
2021-07-20T15:39:51.569049200Z (1,192 missing values generated)
2021-07-20T15:39:51.569065900Z 
2021-07-20T15:39:51.569069100Z . replace egfr=egfr*(0.993^age)
2021-07-20T15:39:51.575948000Z (21,623 real changes made)
2021-07-20T15:39:51.575964800Z 
2021-07-20T15:39:51.575967700Z . replace egfr=egfr*1.018 if male==0
2021-07-20T15:39:51.579513100Z (10,975 real changes made)
2021-07-20T15:39:51.579542100Z 
2021-07-20T15:39:51.579545500Z . label var egfr "egfr calculated using CKD-EPI formula with no eth"
2021-07-20T15:39:51.579548200Z 
2021-07-20T15:39:51.579550400Z . 
2021-07-20T15:39:51.579552600Z . * Categorise into ckd stages
2021-07-20T15:39:51.579555100Z . egen egfr_cat = cut(egfr), at(0, 15, 30, 45, 60, 5000)
2021-07-20T15:39:51.604318100Z (1192 missing values generated)
2021-07-20T15:39:51.605718500Z 
2021-07-20T15:39:51.605730500Z . recode egfr_cat 0=5 15=4 30=3 45=2 60=0, generate(ckd)
2021-07-20T15:39:51.637448100Z (21623 differences between egfr_cat and ckd)
2021-07-20T15:39:51.644445100Z 
2021-07-20T15:39:51.644466600Z . * 0 = "No CKD"  2 "stage 3a" 3 "stage 3b" 4 "stage 4" 5 "stage 5"
2021-07-20T15:39:51.644473100Z . label define ckd 0 "No CKD" 1 "CKD"
2021-07-20T15:39:51.644477900Z 
2021-07-20T15:39:51.644481700Z . label values ckd ckd
2021-07-20T15:39:51.644645600Z 
2021-07-20T15:39:51.644656900Z . *label var ckd "CKD stage calc without eth"
2021-07-20T15:39:51.644660500Z . 
2021-07-20T15:39:51.644662900Z . * Convert into CKD group
2021-07-20T15:39:51.644676400Z . *recode ckd 2/5=1, gen(chronic_kidney_disease)
2021-07-20T15:39:51.644679000Z . *replace chronic_kidney_disease = 0 if creatinine==.
2021-07-20T15:39:51.644681600Z . 
2021-07-20T15:39:51.644683800Z . recode ckd 0=1 2/3=2 4/5=3, gen(reduced_kidney_function_cat)
2021-07-20T15:39:51.692344300Z (21372 differences between ckd and reduced_kidney_function_cat)
2021-07-20T15:39:51.697940000Z 
2021-07-20T15:39:51.697958900Z . replace reduced_kidney_function_cat = 1 if creatinine==.
2021-07-20T15:39:51.699859900Z (1,192 real changes made)
2021-07-20T15:39:51.699875500Z 
2021-07-20T15:39:51.699880900Z . label define reduced_kidney_function_catlab ///
2021-07-20T15:39:51.699885400Z >         1 "None" 2 "Stage 3a/3b egfr 30-60      " 3 "Stage 4/5 egfr<30"
2021-07-20T15:39:51.699890600Z 
2021-07-20T15:39:51.699894800Z . label values reduced_kidney_function_cat reduced_kidney_function_catlab
2021-07-20T15:39:51.699899400Z 
2021-07-20T15:39:51.699903200Z . lab var  reduced "Reduced kidney function"
2021-07-20T15:39:51.700059400Z 
2021-07-20T15:39:51.700072000Z . 
2021-07-20T15:39:51.700076400Z . 
2021-07-20T15:39:51.700080000Z . 
2021-07-20T15:39:51.700083600Z . /*ESDR: dialysis or kidney transplant*/
2021-07-20T15:39:51.700087300Z . gen esrd=1 if dialysis==1 | kidney_transplant==1
2021-07-20T15:39:51.703423200Z (14,632 missing values generated)
2021-07-20T15:39:51.703441400Z 
2021-07-20T15:39:51.703444800Z . recode esrd .=0
2021-07-20T15:39:51.716297200Z (esrd: 14632 changes made)
2021-07-20T15:39:51.718045100Z 
2021-07-20T15:39:51.718059800Z . 
2021-07-20T15:39:51.718064100Z . 
2021-07-20T15:39:51.718067400Z . /* Hb1AC */
2021-07-20T15:39:51.718070700Z . 
2021-07-20T15:39:51.718074000Z . /*  Diabetes severity  */
2021-07-20T15:39:51.718077600Z . 
2021-07-20T15:39:51.718080900Z . * Set zero or negative to missing
2021-07-20T15:39:51.718084600Z . replace hba1c_percentage   = . if hba1c_percentage <= 0
2021-07-20T15:39:51.719883900Z (1,253 real changes made, 1,253 to missing)
2021-07-20T15:39:51.719897600Z 
2021-07-20T15:39:51.719900700Z . replace hba1c_mmol_per_mol = . if hba1c_mmol_per_mol <= 0
2021-07-20T15:39:51.721630000Z (1,590 real changes made, 1,590 to missing)
2021-07-20T15:39:51.721643400Z 
2021-07-20T15:39:51.721646600Z . 
2021-07-20T15:39:51.721649100Z . /* Express  HbA1c as percentage  */
2021-07-20T15:39:51.721652000Z . 
2021-07-20T15:39:51.721654300Z . * Express all values as perecentage
2021-07-20T15:39:51.721668400Z . noi summ hba1c_percentage hba1c_mmol_per_mol
2021-07-20T15:39:51.722788800Z 
2021-07-20T15:39:51.722803700Z     Variable |        Obs        Mean    Std. Dev.       Min        Max
2021-07-20T15:39:51.722809200Z -------------+---------------------------------------------------------
2021-07-20T15:39:51.722812800Z hba1c_per~ge |     21,562    5.035842    1.958743    .010678   12.51087
2021-07-20T15:39:51.723786200Z hba1c_mmol~l |     21,225    41.05175    18.85654   .0017723   115.4855
2021-07-20T15:39:51.723800200Z 
2021-07-20T15:39:51.723804000Z . gen     hba1c_pct = hba1c_percentage
2021-07-20T15:39:51.724721700Z (1,253 missing values generated)
2021-07-20T15:39:51.724735800Z 
2021-07-20T15:39:51.724740000Z . replace hba1c_pct = (hba1c_mmol_per_mol/10.929)+2.15 if hba1c_mmol_per_mol<.
2021-07-20T15:39:51.727244400Z (21,225 real changes made)
2021-07-20T15:39:51.727260400Z 
2021-07-20T15:39:51.727264100Z . 
2021-07-20T15:39:51.727266500Z . * Valid % range between 0-20  /195 mmol/mol
2021-07-20T15:39:51.727269000Z . replace hba1c_pct = . if !inrange(hba1c_pct, 0, 20)
2021-07-20T15:39:51.729385600Z (0 real changes made)
2021-07-20T15:39:51.729402000Z 
2021-07-20T15:39:51.729406300Z . replace hba1c_pct = round(hba1c_pct, 0.1)
2021-07-20T15:39:51.733902900Z (22,734 real changes made)
2021-07-20T15:39:51.733926300Z 
2021-07-20T15:39:51.733931200Z . 
2021-07-20T15:39:51.733935300Z . 
2021-07-20T15:39:51.733939000Z . /* Categorise hba1c and diabetes  */
2021-07-20T15:39:51.733943200Z . /* Diabetes type */
2021-07-20T15:39:51.733947500Z . gen dm_type=1 if diabetes_type=="T1DM"
2021-07-20T15:39:51.740885100Z (22,125 missing values generated)
2021-07-20T15:39:51.740912500Z 
2021-07-20T15:39:51.740916800Z . replace dm_type=2 if diabetes_type=="T2DM"
2021-07-20T15:39:51.745533000Z (4,445 real changes made)
2021-07-20T15:39:51.745556500Z 
2021-07-20T15:39:51.745561400Z . replace dm_type=3 if diabetes_type=="UNKNOWN_DM"
2021-07-20T15:39:51.750686400Z (469 real changes made)
2021-07-20T15:39:51.750723800Z 
2021-07-20T15:39:51.750731200Z . replace dm_type=0 if diabetes_type=="NO_DM"
2021-07-20T15:39:51.756272600Z (17,211 real changes made)
2021-07-20T15:39:51.756303500Z 
2021-07-20T15:39:51.756307300Z . 
2021-07-20T15:39:51.756309800Z . safetab dm_type diabetes_type
2021-07-20T15:39:51.756930600Z 0
2021-07-20T15:39:51.770613300Z 
2021-07-20T15:39:51.770637300Z            |                diabetes_type
2021-07-20T15:39:51.770642900Z    dm_type |     NO_DM       T1DM       T2DM  UNKNOWN.. |     Total
2021-07-20T15:39:51.770656900Z -----------+--------------------------------------------+----------
2021-07-20T15:39:51.770659500Z          0 |    17,211          0          0          0 |    17,211 
2021-07-20T15:39:51.770662900Z          1 |         0        690          0          0 |       690 
2021-07-20T15:39:51.770667000Z          2 |         0          0      4,445          0 |     4,445 
2021-07-20T15:39:51.770671000Z          3 |         0          0          0        469 |       469 
2021-07-20T15:39:51.770675000Z -----------+--------------------------------------------+----------
2021-07-20T15:39:51.770678700Z      Total |    17,211        690      4,445        469 |    22,815 
2021-07-20T15:39:51.770682400Z 
2021-07-20T15:39:51.770686000Z . label define dm_type 0"No DM" 1"T1DM" 2"T2DM" 3"UNKNOWN_DM"
2021-07-20T15:39:51.770690500Z 
2021-07-20T15:39:51.770694200Z . label values dm_type dm_type
2021-07-20T15:39:51.770773900Z 
2021-07-20T15:39:51.770788800Z . 
2021-07-20T15:39:51.770794100Z . *Open safely diabetes codes with exeter algorithm
2021-07-20T15:39:51.770798400Z . gen dm_type_exeter_os=1 if diabetes_exeter_os=="T1DM_EX_OS"
2021-07-20T15:39:51.774861500Z (22,101 missing values generated)
2021-07-20T15:39:51.774874200Z 
2021-07-20T15:39:51.774877500Z . replace dm_type_exeter_os=2 if diabetes_exeter_os=="T2DM_EX_OS"
2021-07-20T15:39:51.780092200Z (4,614 real changes made)
2021-07-20T15:39:51.780106300Z 
2021-07-20T15:39:51.780109700Z . replace dm_type_exeter_os=0 if diabetes_exeter_os=="NO_DM"
2021-07-20T15:39:51.785827000Z (17,487 real changes made)
2021-07-20T15:39:51.785863300Z 
2021-07-20T15:39:51.785867400Z . label values  dm_type_exeter_os dm_type
2021-07-20T15:39:51.785870100Z 
2021-07-20T15:39:51.785872400Z . 
2021-07-20T15:39:51.785874600Z . * Group hba1c
2021-07-20T15:39:51.785876900Z . gen     hba1ccat = 0 if hba1c_pct <  6.5
2021-07-20T15:39:51.789860400Z (8,296 missing values generated)
2021-07-20T15:39:51.789876400Z 
2021-07-20T15:39:51.789879400Z . replace hba1ccat = 1 if hba1c_pct >= 6.5  & hba1c_pct < 7.5
2021-07-20T15:39:51.794491900Z (4,020 real changes made)
2021-07-20T15:39:51.794513800Z 
2021-07-20T15:39:51.794518500Z . replace hba1ccat = 2 if hba1c_pct >= 7.5  & hba1c_pct < 8
2021-07-20T15:39:51.797910800Z (1,457 real changes made)
2021-07-20T15:39:51.797957900Z 
2021-07-20T15:39:51.797966900Z . replace hba1ccat = 3 if hba1c_pct >= 8    & hba1c_pct < 9
2021-07-20T15:39:51.800999500Z (1,768 real changes made)
2021-07-20T15:39:51.801018500Z 
2021-07-20T15:39:51.801078600Z . replace hba1ccat = 4 if hba1c_pct >= 9    & hba1c_pct !=.
2021-07-20T15:39:51.804297800Z (970 real changes made)
2021-07-20T15:39:51.804322500Z 
2021-07-20T15:39:51.804327800Z . label define hba1ccat 0 "<6.5%" 1">=6.5-7.4" 2">=7.5-7.9" 3">=8-8.9" 4">=9"
2021-07-20T15:39:51.804333200Z 
2021-07-20T15:39:51.804337100Z . label values hba1ccat hba1ccat
2021-07-20T15:39:51.804490000Z 
2021-07-20T15:39:51.804502800Z . safetab hba1ccat
2021-07-20T15:39:51.805000700Z 0
2021-07-20T15:39:51.811857100Z 
2021-07-20T15:39:51.811910600Z    hba1ccat |      Freq.     Percent        Cum.
2021-07-20T15:39:51.811920800Z ------------+-----------------------------------
2021-07-20T15:39:51.811948600Z       <6.5% |     14,519       63.86       63.86
2021-07-20T15:39:51.811977300Z   >=6.5-7.4 |      4,020       17.68       81.55
2021-07-20T15:39:51.811983300Z   >=7.5-7.9 |      1,457        6.41       87.96
2021-07-20T15:39:51.811986000Z     >=8-8.9 |      1,768        7.78       95.73
2021-07-20T15:39:51.811988500Z         >=9 |        970        4.27      100.00
2021-07-20T15:39:51.811991000Z ------------+-----------------------------------
2021-07-20T15:39:51.811993300Z       Total |     22,734      100.00
2021-07-20T15:39:51.811995800Z 
2021-07-20T15:39:51.811998100Z . 
2021-07-20T15:39:51.812000500Z . gen hba1c75=0 if hba1c_pct<7.5
2021-07-20T15:39:51.814586700Z (4,276 missing values generated)
2021-07-20T15:39:51.814603600Z 
2021-07-20T15:39:51.814608600Z . replace hba1c75=1 if hba1c_pct>=7.5 & hba1c_pct!=.
2021-07-20T15:39:51.818187300Z (4,195 real changes made)
2021-07-20T15:39:51.818234900Z 
2021-07-20T15:39:51.818240200Z . label define hba1c75 0"<7.5" 1">=7.5"
2021-07-20T15:39:51.818244600Z 
2021-07-20T15:39:51.818248100Z . safetab hba1c75, m
2021-07-20T15:39:51.818951600Z 8
2021-07-20T15:39:51.825551800Z 
2021-07-20T15:39:51.825580200Z     hba1c75 |      Freq.     Percent        Cum.
2021-07-20T15:39:51.825586400Z ------------+-----------------------------------
2021-07-20T15:39:51.825590600Z           0 |     18,539       81.26       81.26
2021-07-20T15:39:51.825594800Z           1 |      4,195       18.39       99.64
2021-07-20T15:39:51.825598900Z           . |         81        0.36      100.00
2021-07-20T15:39:51.825602700Z ------------+-----------------------------------
2021-07-20T15:39:51.825606400Z       Total |     22,815      100.00
2021-07-20T15:39:51.825610400Z 
2021-07-20T15:39:51.825614100Z . 
2021-07-20T15:39:51.825632200Z . * Create diabetes, split by control/not
2021-07-20T15:39:51.825637000Z . gen     diabcat = 1 if dm_type==0
2021-07-20T15:39:51.828321900Z (5,604 missing values generated)
2021-07-20T15:39:51.828339800Z 
2021-07-20T15:39:51.828344200Z . replace diabcat = 2 if dm_type==1 & inlist(hba1ccat, 0, 1)
2021-07-20T15:39:51.831507900Z (566 real changes made)
2021-07-20T15:39:51.831526100Z 
2021-07-20T15:39:51.831531500Z . replace diabcat = 3 if dm_type==1 & inlist(hba1ccat, 2, 3, 4)
2021-07-20T15:39:51.834464800Z (121 real changes made)
2021-07-20T15:39:51.834478900Z 
2021-07-20T15:39:51.834483200Z . replace diabcat = 4 if dm_type==2 & inlist(hba1ccat, 0, 1)
2021-07-20T15:39:51.838082200Z (3,615 real changes made)
2021-07-20T15:39:51.838099500Z 
2021-07-20T15:39:51.838102500Z . replace diabcat = 5 if dm_type==2 & inlist(hba1ccat, 2, 3, 4)
2021-07-20T15:39:51.841824100Z (813 real changes made)
2021-07-20T15:39:51.841842600Z 
2021-07-20T15:39:51.841846900Z . replace diabcat = 6 if dm_type==1 & hba1c_pct==. | dm_type==2 & hba1c_pct==.
2021-07-20T15:39:51.845670900Z (20 real changes made)
2021-07-20T15:39:51.845686700Z 
2021-07-20T15:39:51.845691500Z . 
2021-07-20T15:39:51.845695400Z . 
2021-07-20T15:39:51.845699500Z . label define diabcat    1 "No diabetes"                         ///
2021-07-20T15:39:51.845704000Z >                                                 2 "T1DM, controlled"         
2021-07-20T15:39:51.845709000Z >    ///
2021-07-20T15:39:51.845713100Z >                                                 3 "T1DM, uncontrolled"       
2021-07-20T15:39:51.845717900Z >    ///
2021-07-20T15:39:51.845721900Z >                                                 4 "T2DM, controlled"         
2021-07-20T15:39:51.845726200Z >    ///
2021-07-20T15:39:51.845730000Z >                                                 5 "T2DM, uncontrolled"       
2021-07-20T15:39:51.845735200Z >    ///
2021-07-20T15:39:51.845739200Z >                                                 6 "Diabetes, no HbA1c"
2021-07-20T15:39:51.845743900Z 
2021-07-20T15:39:51.845747700Z . label values diabcat diabcat
2021-07-20T15:39:51.845860200Z 
2021-07-20T15:39:51.845889800Z . safetab diabcat, m
2021-07-20T15:39:51.846395800Z 8
2021-07-20T15:39:51.853639500Z 
2021-07-20T15:39:51.853662000Z            diabcat |      Freq.     Percent        Cum.
2021-07-20T15:39:51.853668400Z -------------------+-----------------------------------
2021-07-20T15:39:51.853672700Z        No diabetes |     17,211       75.44       75.44
2021-07-20T15:39:51.853687300Z   T1DM, controlled |        566        2.48       77.92
2021-07-20T15:39:51.853691400Z T1DM, uncontrolled |        121        0.53       78.45
2021-07-20T15:39:51.853694600Z   T2DM, controlled |      3,615       15.84       94.29
2021-07-20T15:39:51.853697500Z T2DM, uncontrolled |        813        3.56       97.86
2021-07-20T15:39:51.853700900Z Diabetes, no HbA1c |         20        0.09       97.94
2021-07-20T15:39:51.853704300Z                  . |        469        2.06      100.00
2021-07-20T15:39:51.853708000Z -------------------+-----------------------------------
2021-07-20T15:39:51.853711400Z              Total |     22,815      100.00
2021-07-20T15:39:51.853714600Z 
2021-07-20T15:39:51.853717800Z . 
2021-07-20T15:39:51.853721200Z . 
2021-07-20T15:39:51.853724400Z . 
2021-07-20T15:39:51.853727900Z . /*  Asthma  */
2021-07-20T15:39:51.853731600Z . 
2021-07-20T15:39:51.853734800Z . 
2021-07-20T15:39:51.853757400Z . * Asthma  (coded: 0 No, 1 Yes no OCS, 2 Yes with OCS)
2021-07-20T15:39:51.853763000Z . rename asthma asthmacat
2021-07-20T15:39:51.853894000Z 
2021-07-20T15:39:51.853910600Z . recode asthmacat 0=1 1=2 2=3
2021-07-20T15:39:51.890022000Z (asthmacat: 4620 changes made)
2021-07-20T15:39:51.892828300Z 
2021-07-20T15:39:51.892850000Z . label define asthmacat 1 "No" 2 "Yes, no OCS" 3 "Yes with OCS"
2021-07-20T15:39:51.893015500Z 
2021-07-20T15:39:51.893025500Z . label values asthmacat asthmacat
2021-07-20T15:39:51.893028500Z 
2021-07-20T15:39:51.893030600Z . 
2021-07-20T15:39:51.893032800Z . gen asthma = (asthmacat==2|asthmacat==3)
2021-07-20T15:39:51.896401600Z 
2021-07-20T15:39:51.896417700Z . 
2021-07-20T15:39:51.896422600Z . /*  Probable shielding  */
2021-07-20T15:39:51.896426800Z . gen shield=1 if esrd==1 | other_transplant==1 | asthmacat==2 | asthmacat==3 |
2021-07-20T15:39:51.896430800Z >  ///
2021-07-20T15:39:51.896433400Z > chronic_respiratory_disease==1 | cancer_haem==1 | cancer_nonhaem==1 | ///
2021-07-20T15:39:51.896435800Z > asplenia==1 | other_immuno==1
2021-07-20T15:39:51.906703600Z (2,782 missing values generated)
2021-07-20T15:39:51.906732700Z 
2021-07-20T15:39:51.906735800Z . recode shield .=0
2021-07-20T15:39:51.930098100Z (shield: 2782 changes made)
2021-07-20T15:39:51.933410800Z 
2021-07-20T15:39:51.933432200Z . 
2021-07-20T15:39:51.933437800Z . 
2021-07-20T15:39:51.933441900Z . /* OUTCOME AND SURVIVAL TIME=================================================
2021-07-20T15:39:51.933446100Z > =*/
2021-07-20T15:39:51.933462400Z . 
2021-07-20T15:39:51.933522500Z . /*  Cohort entry and censor dates  */
2021-07-20T15:39:51.933531700Z . * Date of cohort entry, 1 Feb 2019
2021-07-20T15:39:51.933536100Z . gen enter_date = date("$indexdate", "DMY")
2021-07-20T15:39:51.961144000Z 
2021-07-20T15:39:51.961168500Z . 
2021-07-20T15:39:51.961174800Z . * Date of study end (typically: last date of outcome data available)
2021-07-20T15:39:51.961179900Z . **** NOTE!! NEEDS UPDATING!!!!
2021-07-20T15:39:51.961290200Z . gen tpp_infec_censor_date           = date("$tpp_infec_censor",         "DMY"
2021-07-20T15:39:51.961306500Z > )
2021-07-20T15:39:51.984912700Z 
2021-07-20T15:39:51.984936200Z . 
2021-07-20T15:39:51.984941800Z . * Format the dates
2021-07-20T15:39:51.984946200Z . format  enter_date                                      ///
2021-07-20T15:39:51.984950500Z >                 tpp_infec_censor_date   %td
2021-07-20T15:39:51.985352200Z 
2021-07-20T15:39:51.985369300Z . 
2021-07-20T15:39:51.985555200Z . 
2021-07-20T15:39:51.985818200Z .                         /****   Outcome definitions   ****/
2021-07-20T15:39:51.985830700Z . 
2021-07-20T15:39:51.985835700Z . 
2021-07-20T15:39:51.985839600Z . * Binary indicator for outcomes
2021-07-20T15:39:51.986083400Z . gen worms = (worms_date < .)
2021-07-20T15:39:51.990614600Z 
2021-07-20T15:39:51.990635600Z . 
2021-07-20T15:39:51.990784400Z .                                         /**** Create survival times  ****/
2021-07-20T15:39:51.990799200Z . * For looping later, name must be stime_binary_outcome_name
2021-07-20T15:39:51.990804600Z . 
2021-07-20T15:39:51.990808500Z . * Survival time = last followup date (first: end study, death, or that outcom
2021-07-20T15:39:51.990812700Z > e)
2021-07-20T15:39:51.991561700Z . gen stime_worms = min(tpp_infec_censor_date, died_date_ons, worms_date, dereg
2021-07-20T15:39:51.991579700Z > _date)
2021-07-20T15:39:52.001214900Z 
2021-07-20T15:39:52.001249200Z . 
2021-07-20T15:39:52.001253900Z . * If outcome was after censoring occurred, set to zero
2021-07-20T15:39:52.001257600Z . replace worms   = 0 if (worms_date      > tpp_infec_censor_date)
2021-07-20T15:39:52.004053300Z (2,742 real changes made)
2021-07-20T15:39:52.004073600Z 
2021-07-20T15:39:52.004079200Z . 
2021-07-20T15:39:52.004083700Z . * Format date variables
2021-07-20T15:39:52.004087700Z . format  stime* %td
2021-07-20T15:39:52.004091600Z 
2021-07-20T15:39:52.004096500Z . 
2021-07-20T15:39:52.004113500Z . 
2021-07-20T15:39:52.004118200Z . /* LABEL VARIABLES===========================================================
2021-07-20T15:39:52.004122400Z > =*/
2021-07-20T15:39:52.004126200Z . *  Label variables you are intending to keep, drop the rest
2021-07-20T15:39:52.004130100Z . 
2021-07-20T15:39:52.004133800Z . *HH variable
2021-07-20T15:39:52.004137500Z . label var kids_cat4 "Presence of children or young people in the household"
2021-07-20T15:39:52.004156300Z 
2021-07-20T15:39:52.004162900Z . label var  number_kids "Number of children aged 1-<12 years in household"
2021-07-20T15:39:52.004167200Z 
2021-07-20T15:39:52.004170900Z . label var  household_size "Number people in household"
2021-07-20T15:39:52.004176700Z 
2021-07-20T15:39:52.004180600Z . label var  household_id "Household ID"
2021-07-20T15:39:52.004184400Z 
2021-07-20T15:39:52.004296700Z . 
2021-07-20T15:39:52.004310500Z . 
2021-07-20T15:39:52.004315500Z . * Demographics
2021-07-20T15:39:52.004932600Z . label var patient_id                            "Patient ID"
2021-07-20T15:39:52.004950100Z 
2021-07-20T15:39:52.004954600Z . label var age                                           "Age (years)"
2021-07-20T15:39:52.005495900Z 
2021-07-20T15:39:52.005511900Z . label var agegroup                                      "Grouped age"
2021-07-20T15:39:52.005517100Z 
2021-07-20T15:39:52.005520700Z . label var age66                                         "66 years and older"
2021-07-20T15:39:52.005524900Z 
2021-07-20T15:39:52.005528500Z . label var sex                                           "Sex"
2021-07-20T15:39:52.005532400Z 
2021-07-20T15:39:52.005535800Z . label var male                                          "Male"
2021-07-20T15:39:52.005539700Z 
2021-07-20T15:39:52.005543300Z . label var bmi                                           "Body Mass Index (BMI
2021-07-20T15:39:52.005547200Z > , kg/m2)"
2021-07-20T15:39:52.005550700Z 
2021-07-20T15:39:52.005554000Z . label var bmicat                                        "Grouped BMI"
2021-07-20T15:39:52.005557900Z 
2021-07-20T15:39:52.005561600Z . label var bmi_measured_date             "Body Mass Index (BMI, kg/m2), date m
2021-07-20T15:39:52.005565600Z > easured"
2021-07-20T15:39:52.005569200Z 
2021-07-20T15:39:52.005572800Z . label var obese4cat                                     "Evidence of obesity 
2021-07-20T15:39:52.005577000Z > (4 categories)"
2021-07-20T15:39:52.005580900Z 
2021-07-20T15:39:52.005584300Z . label var smoke                                         "Smoking status"
2021-07-20T15:39:52.005600500Z 
2021-07-20T15:39:52.005604300Z . label var smoke_nomiss                          "Smoking status (missing set 
2021-07-20T15:39:52.005608000Z > to non)"
2021-07-20T15:39:52.005676700Z 
2021-07-20T15:39:52.005690200Z . label var imd                                           "Index of Multiple De
2021-07-20T15:39:52.005695500Z > privation (IMD)"
2021-07-20T15:39:52.005724300Z 
2021-07-20T15:39:52.005729600Z . label var ethnicity                                     "Ethnicity"
2021-07-20T15:39:52.006052800Z 
2021-07-20T15:39:52.006064600Z . label var stp                                           "Sustainability and T
2021-07-20T15:39:52.006069600Z > ransformation Partnership"
2021-07-20T15:39:52.006073900Z 
2021-07-20T15:39:52.006078100Z . lab var tot_adults_hh                           "Total number adults in hh"
2021-07-20T15:39:52.006082200Z 
2021-07-20T15:39:52.006086200Z . lab var kids_cat4                                        "Exposure (v2) with 
2021-07-20T15:39:52.006090800Z > 4-cats"
2021-07-20T15:39:52.006276500Z 
2021-07-20T15:39:52.006290200Z . 
2021-07-20T15:39:52.006294600Z . 
2021-07-20T15:39:52.006298100Z . * Comorbidities of interest
2021-07-20T15:39:52.006302000Z . label var asthma                                                "Asthma categ
2021-07-20T15:39:52.006306500Z > ory"
2021-07-20T15:39:52.006310500Z 
2021-07-20T15:39:52.006670000Z . label var egfr_cat                                              "Calculated e
2021-07-20T15:39:52.006684000Z > GFR"
2021-07-20T15:39:52.006689200Z 
2021-07-20T15:39:52.006693100Z . label var hypertension                              "Diagnosed hypertension"
2021-07-20T15:39:52.006697000Z 
2021-07-20T15:39:52.006700600Z . label var chronic_respiratory_disease   "Chronic Respiratory Diseases"
2021-07-20T15:39:52.006838900Z 
2021-07-20T15:39:52.006854100Z . label var chronic_cardiac_disease               "Chronic Cardiac Diseases"
2021-07-20T15:39:52.006860000Z 
2021-07-20T15:39:52.006863800Z . label var diabcat                                               "Diabetes"
2021-07-20T15:39:52.006868100Z 
2021-07-20T15:39:52.007017700Z . label var cancer_haem_cat                               "Haematological cance
2021-07-20T15:39:52.007030700Z > r"
2021-07-20T15:39:52.007276000Z 
2021-07-20T15:39:52.007289800Z . label var cancer_exhaem_cat                             "Non-haematological c
2021-07-20T15:39:52.007295300Z > ancer"
2021-07-20T15:39:52.007299200Z 
2021-07-20T15:39:52.007315700Z . label var kidney_transplant                             "Kidney transplant"
2021-07-20T15:39:52.007320900Z 
2021-07-20T15:39:52.007324700Z . label var other_transplant                              "Other solid organ tr
2021-07-20T15:39:52.007329000Z > ansplant"
2021-07-20T15:39:52.007332800Z 
2021-07-20T15:39:52.007336400Z . label var asplenia                                              "Asplenia"
2021-07-20T15:39:52.007340500Z 
2021-07-20T15:39:52.007344200Z . label var other_immuno                                  "Immunosuppressed (co
2021-07-20T15:39:52.007348200Z > mbination algorithm)"
2021-07-20T15:39:52.007353600Z 
2021-07-20T15:39:52.007357400Z . label var chronic_liver_disease                 "Chronic liver disease"
2021-07-20T15:39:52.007527600Z 
2021-07-20T15:39:52.007543200Z . label var other_neuro                                   "Neurological disease
2021-07-20T15:39:52.007549300Z > "
2021-07-20T15:39:52.007719100Z 
2021-07-20T15:39:52.007730200Z . label var stroke_dementia                           "Stroke or dementia"
2021-07-20T15:39:52.007735300Z 
2021-07-20T15:39:52.007849400Z . label var ra_sle_psoriasis                              "Autoimmune disease"
2021-07-20T15:39:52.007861600Z 
2021-07-20T15:39:52.007867100Z . lab var egfr                                                    eGFR
2021-07-20T15:39:52.007972300Z 
2021-07-20T15:39:52.007982400Z . lab var perm_immunodef                                  "Permanent immunosupp
2021-07-20T15:39:52.008064200Z > ression"
2021-07-20T15:39:52.008069400Z 
2021-07-20T15:39:52.008072900Z . lab var temp_immunodef                                  "Temporary immunosupp
2021-07-20T15:39:52.008076600Z > ression"
2021-07-20T15:39:52.008315800Z 
2021-07-20T15:39:52.008329200Z . lab var esrd                                                    "End-stage re
2021-07-20T15:39:52.008334700Z > nal disease"
2021-07-20T15:39:52.008520300Z 
2021-07-20T15:39:52.008531500Z . 
2021-07-20T15:39:52.008536700Z . label var hypertension_date                                     "Diagnosed hy
2021-07-20T15:39:52.008541200Z > pertension Date"
2021-07-20T15:39:52.008544900Z 
2021-07-20T15:39:52.008549000Z . label var chronic_respiratory_disease_date      "Other Respiratory Diseases D
2021-07-20T15:39:52.008553600Z > ate"
2021-07-20T15:39:52.008557400Z 
2021-07-20T15:39:52.008776200Z . label var chronic_cardiac_disease_date          "Other Heart Diseases Date"
2021-07-20T15:39:52.008790800Z 
2021-07-20T15:39:52.008796000Z . label var diabetes_date                                         "Diabetes Dat
2021-07-20T15:39:52.008810900Z > e"
2021-07-20T15:39:52.008964500Z 
2021-07-20T15:39:52.008977100Z . label var cancer_haem_date                                      "Haem cancer 
2021-07-20T15:39:52.008982300Z > Date"
2021-07-20T15:39:52.008986700Z 
2021-07-20T15:39:52.008990600Z . label var cancer_nonhaem_date                           "Non-haem cancer Date
2021-07-20T15:39:52.008994900Z > "
2021-07-20T15:39:52.009197600Z 
2021-07-20T15:39:52.009209200Z . label var chronic_liver_disease_date            "Chronic liver disease Date"
2021-07-20T15:39:52.009214200Z 
2021-07-20T15:39:52.009217800Z . label var other_neuro_date                                      "Neurological
2021-07-20T15:39:52.009221600Z >  disease  Date"
2021-07-20T15:39:52.009348500Z 
2021-07-20T15:39:52.009359100Z . label var stroke_dementia_date                      "Stroke or dementia date"
2021-07-20T15:39:52.009364000Z 
2021-07-20T15:39:52.009368000Z . label var ra_sle_psoriasis_date                         "Autoimmune disease  
2021-07-20T15:39:52.009372300Z > Date"
2021-07-20T15:39:52.009564700Z 
2021-07-20T15:39:52.009576200Z . lab var perm_immunodef_date                             "Permanent immunosupp
2021-07-20T15:39:52.009582000Z > ression date"
2021-07-20T15:39:52.009586400Z 
2021-07-20T15:39:52.009589000Z . lab var temp_immunodef_date                             "Temporary immunosupp
2021-07-20T15:39:52.009591600Z > ression date"
2021-07-20T15:39:52.009664200Z 
2021-07-20T15:39:52.009673900Z . label var kidney_transplant_date                                             
2021-07-20T15:39:52.009678800Z >    "Kidney transplant"
2021-07-20T15:39:52.009784400Z 
2021-07-20T15:39:52.009812200Z . label var other_transplant_date                                         "Othe
2021-07-20T15:39:52.009820200Z > r solid organ transplant"
2021-07-20T15:39:52.009825000Z 
2021-07-20T15:39:52.009828900Z . label var asplenia_date                                                 "Aspl
2021-07-20T15:39:52.009832900Z > enia date"
2021-07-20T15:39:52.009960900Z 
2021-07-20T15:39:52.009973000Z . lab var  bphigh "non-missing indicator of known high blood pressure"
2021-07-20T15:39:52.009978300Z 
2021-07-20T15:39:52.009985100Z . lab var bpcat "Blood pressure four levels, non-missing"
2021-07-20T15:39:52.010138000Z 
2021-07-20T15:39:52.010149900Z . lab var htdiag_or_highbp "High blood pressure or hypertension diagnosis"
2021-07-20T15:39:52.010153500Z 
2021-07-20T15:39:52.010155900Z . lab var shield "Probable shielding"
2021-07-20T15:39:52.010313300Z 
2021-07-20T15:39:52.010325100Z . 
2021-07-20T15:39:52.010330200Z . *Key DATES
2021-07-20T15:39:52.010334800Z . label var   died_date_ons                               "Date death ONS"
2021-07-20T15:39:52.010337700Z 
2021-07-20T15:39:52.010340000Z . label var enter_date                                    "Date of study entry"
2021-07-20T15:39:52.010470200Z 
2021-07-20T15:39:52.010483100Z . lab var  dereg_date                                             "Date deregis
2021-07-20T15:39:52.010488500Z > tration from practice"
2021-07-20T15:39:52.010492900Z 
2021-07-20T15:39:52.010496600Z . 
2021-07-20T15:39:52.010499100Z . 
2021-07-20T15:39:52.010501300Z . *Control outcome
2021-07-20T15:39:52.010503800Z . label var   worms                               "Failure/censoring indicator 
2021-07-20T15:39:52.010506400Z > for outcome: worms"
2021-07-20T15:39:52.010664900Z 
2021-07-20T15:39:52.010675000Z . label var   worms_date                  "Date of worms"
2021-07-20T15:39:52.010679000Z 
2021-07-20T15:39:52.010682600Z . label var  stime_worms                  "Survival time (date); outcome worms"
2021-07-20T15:39:52.010686500Z 
2021-07-20T15:39:52.010690100Z . 
2021-07-20T15:39:52.010693900Z . 
2021-07-20T15:39:52.010697800Z . 
2021-07-20T15:39:52.010701700Z . /* TIDY DATA=================================================================
2021-07-20T15:39:52.010706200Z > =*/
2021-07-20T15:39:52.010761100Z . *  Drop variables that are not needed (those not labelled)
2021-07-20T15:39:52.010773000Z . ds, not(varlabel)
2021-07-20T15:39:52.013583800Z ethnicity_~e  smoki~s_date  care_home_~e  asthmacat     SCr_adj
2021-07-20T15:39:52.013678800Z bmi_measured  hba1c_mmol~e  bp_sys        diabetes      min
2021-07-20T15:39:52.013819300Z bp_sys_dat~e  hba1c_per~te  bp_dias       male_drop     max
2021-07-20T15:39:52.014170100Z bp_sys_dat~d  cancer_haem   creatinine    age_drop      hba1c_pct
2021-07-20T15:39:52.014330900Z bp_dias_da~e  cancer_non~m  diabetes_t~e  imd_drop      dm_type
2021-07-20T15:39:52.014651000Z bp_dias_da~d  esrf_date     diabetes_e~s  kids_cat5     dm_type_ex~s
2021-07-20T15:39:52.014863600Z crea~te_date  esrf          diabetes_e~r  nokids        hba1ccat
2021-07-20T15:39:52.015202400Z crea~ne_date  dialysis_d~e  hba1c_mmol~l  bmi_time      hba1c75
2021-07-20T15:39:52.015368900Z smoki~e_date  dialysis      hba1c_per~ge  bmi_age       tpp_infec_~e
2021-07-20T15:39:52.015394300Z 
2021-07-20T15:39:52.015404500Z . drop `r(varlist)'
2021-07-20T15:39:52.019377400Z 
2021-07-20T15:39:52.019399500Z . 
2021-07-20T15:39:52.019420900Z . 
2021-07-20T15:39:52.019423700Z . /* APPLY INCLUSION/EXCLUIONS=================================================
2021-07-20T15:39:52.019426300Z > =*/
2021-07-20T15:39:52.019428800Z . noi di "DROP AGE >110:"
2021-07-20T15:39:52.019431600Z DROP AGE >110:
2021-07-20T15:39:52.019433900Z 
2021-07-20T15:39:52.019436200Z . drop if age > 110 & age != .
2021-07-20T15:39:52.022547500Z (0 observations deleted)
2021-07-20T15:39:52.022559900Z 
2021-07-20T15:39:52.022562900Z . 
2021-07-20T15:39:52.022574100Z . noi di "DROP IF DIED BEFORE INDEX"
2021-07-20T15:39:52.022576900Z DROP IF DIED BEFORE INDEX
2021-07-20T15:39:52.022579200Z 
2021-07-20T15:39:52.022581700Z . drop if died_date_ons <= date("$indexdate", "DMY")
2021-07-20T15:39:52.042230900Z (4,335 observations deleted)
2021-07-20T15:39:52.042266100Z 
2021-07-20T15:39:52.042272300Z . 
2021-07-20T15:39:52.042276800Z . noi di "DROP IF DIED BEFORE INDEX"
2021-07-20T15:39:52.042279900Z DROP IF DIED BEFORE INDEX
2021-07-20T15:39:52.042282400Z 
2021-07-20T15:39:52.042284800Z . drop if died_date_ons <= date("$indexdate", "DMY")
2021-07-20T15:39:52.054845100Z (0 observations deleted)
2021-07-20T15:39:52.054892500Z 
2021-07-20T15:39:52.054898500Z . 
2021-07-20T15:39:52.054902300Z . noi di "DROP NO ETHNICITY DATA"
2021-07-20T15:39:52.054906000Z DROP NO ETHNICITY DATA
2021-07-20T15:39:52.054909400Z 
2021-07-20T15:39:52.054912700Z . keep if ethnicity!=.u
2021-07-20T15:39:52.062627600Z (4,623 observations deleted)
2021-07-20T15:39:52.062650800Z 
2021-07-20T15:39:52.062655600Z . 
2021-07-20T15:39:52.062659200Z . ***************
2021-07-20T15:39:52.062663400Z . *  Save data  *
2021-07-20T15:39:52.062667200Z . ***************
2021-07-20T15:39:52.062671200Z . sort patient_id
2021-07-20T15:39:52.074309800Z 
2021-07-20T15:39:52.074332800Z . save $tempdir/analysis_dataset_worms, replace
2021-07-20T15:39:52.077821800Z (note: file tempdata/analysis_dataset_worms.dta not found)
2021-07-20T15:39:52.077843200Z file tempdata/analysis_dataset_worms.dta saved
2021-07-20T15:39:52.077846500Z 
2021-07-20T15:39:52.077848900Z . 
2021-07-20T15:39:52.077851200Z . 
2021-07-20T15:39:52.077853400Z . 
2021-07-20T15:39:52.077855800Z . use  $tempdir/analysis_dataset_worms, clear
2021-07-20T15:39:52.079556000Z 
2021-07-20T15:39:52.079573200Z . keep if age66==0
2021-07-20T15:39:52.083013400Z (2,970 observations deleted)
2021-07-20T15:39:52.083030600Z 
2021-07-20T15:39:52.083033600Z . * Create restricted cubic splines for age
2021-07-20T15:39:52.083036500Z . mkspline age = age, cubic nknots(4)
2021-07-20T15:39:52.123638500Z 
2021-07-20T15:39:52.123668400Z . save $tempdir/analysis_dataset_worms_ageband_0, replace
2021-07-20T15:39:52.126032200Z (note: file tempdata/analysis_dataset_worms_ageband_0.dta not found)
2021-07-20T15:39:52.126054100Z file tempdata/analysis_dataset_worms_ageband_0.dta saved
2021-07-20T15:39:52.126059400Z 
2021-07-20T15:39:52.126063500Z . 
2021-07-20T15:39:52.126067300Z . 
2021-07-20T15:39:52.126070300Z . use  $tempdir/analysis_dataset_worms, clear
2021-07-20T15:39:52.127637800Z 
2021-07-20T15:39:52.127652900Z . keep if age66==1
2021-07-20T15:39:52.129906000Z (10,887 observations deleted)
2021-07-20T15:39:52.129921200Z 
2021-07-20T15:39:52.129924000Z . * Create restricted cubic splines for age
2021-07-20T15:39:52.129926500Z . mkspline age = age, cubic nknots(4)
2021-07-20T15:39:52.143176400Z 
2021-07-20T15:39:52.143195100Z . save $tempdir/analysis_dataset_worms_ageband_1, replace
2021-07-20T15:39:52.143940700Z (note: file tempdata/analysis_dataset_worms_ageband_1.dta not found)
2021-07-20T15:39:52.143954300Z file tempdata/analysis_dataset_worms_ageband_1.dta saved
2021-07-20T15:39:52.143958000Z 
2021-07-20T15:39:52.143960500Z . 
2021-07-20T15:39:52.143962800Z . 
2021-07-20T15:39:52.143965100Z . *STSET data
2021-07-20T15:39:52.143967400Z . forvalues x=0/1 {
2021-07-20T15:39:52.143970400Z   2. use $tempdir/analysis_dataset_worms_ageband_`x', clear
2021-07-20T15:39:52.143972800Z   3. * Save a version set on NON ONS covid death outcome
2021-07-20T15:39:52.143975100Z . stset stime_worms, fail(worms)                          ///
2021-07-20T15:39:52.143977500Z >         id(patient_id) enter(enter_date) origin(enter_date)
2021-07-20T15:39:52.143981600Z   4. save "$tempdir/cr_create_analysis_dataset_STSET_worms_ageband_`x'.dta", re
2021-07-20T15:39:52.143985900Z > place
2021-07-20T15:39:52.143990000Z   5. 
2021-07-20T15:39:52.143994400Z . }
2021-07-20T15:39:52.336353900Z 
2021-07-20T15:39:52.336372600Z                 id:  patient_id
2021-07-20T15:39:52.336375700Z      failure event:  worms != 0 & worms < .
2021-07-20T15:39:52.336378400Z obs. time interval:  (stime_worms[_n-1], stime_worms]
2021-07-20T15:39:52.336380700Z  enter on or after:  time enter_date
2021-07-20T15:39:52.336384200Z  exit on or before:  failure
2021-07-20T15:39:52.336387700Z     t for analysis:  (time-origin)
2021-07-20T15:39:52.336404000Z             origin:  time enter_date
2021-07-20T15:39:52.336408700Z 
2021-07-20T15:39:52.336412400Z ------------------------------------------------------------------------------
2021-07-20T15:39:52.336474600Z      10,887  total observations
2021-07-20T15:39:52.337350200Z           0  exclusions
2021-07-20T15:39:52.337363800Z ------------------------------------------------------------------------------
2021-07-20T15:39:52.337367300Z      10,887  observations remaining, representing
2021-07-20T15:39:52.356879200Z      10,887  subjects
2021-07-20T15:39:52.380547800Z         857  failures in single-failure-per-subject data
2021-07-20T15:39:52.419450100Z   3,803,511  total analysis time at risk and under observation
2021-07-20T15:39:52.419472400Z                                                 at risk from t =         0
2021-07-20T15:39:52.420407900Z                                      earliest observed entry t =         0
2021-07-20T15:39:52.421170100Z                                           last observed exit t =       365
2021-07-20T15:39:52.478794200Z (note: file tempdata/cr_create_analysis_dataset_STSET_worms_ageband_0.dta not f
2021-07-20T15:39:52.478843800Z > ound)
2021-07-20T15:39:52.478850900Z file tempdata/cr_create_analysis_dataset_STSET_worms_ageband_0.dta saved
2021-07-20T15:39:52.478855700Z 
2021-07-20T15:39:52.478860200Z                 id:  patient_id
2021-07-20T15:39:52.478863500Z      failure event:  worms != 0 & worms < .
2021-07-20T15:39:52.478866000Z obs. time interval:  (stime_worms[_n-1], stime_worms]
2021-07-20T15:39:52.478868800Z  enter on or after:  time enter_date
2021-07-20T15:39:52.478873600Z  exit on or before:  failure
2021-07-20T15:39:52.478877400Z     t for analysis:  (time-origin)
2021-07-20T15:39:52.478881500Z             origin:  time enter_date
2021-07-20T15:39:52.479009200Z 
2021-07-20T15:39:52.479021400Z ------------------------------------------------------------------------------
2021-07-20T15:39:52.479026400Z       2,970  total observations
2021-07-20T15:39:52.479347300Z           0  exclusions
2021-07-20T15:39:52.479361100Z ------------------------------------------------------------------------------
2021-07-20T15:39:52.479367100Z       2,970  observations remaining, representing
2021-07-20T15:39:52.486092000Z       2,970  subjects
2021-07-20T15:39:52.493161500Z         249  failures in single-failure-per-subject data
2021-07-20T15:39:52.507648700Z   1,040,015  total analysis time at risk and under observation
2021-07-20T15:39:52.507942900Z                                                 at risk from t =         0
2021-07-20T15:39:52.508680000Z                                      earliest observed entry t =         0
2021-07-20T15:39:52.509137600Z                                           last observed exit t =       365
2021-07-20T15:39:52.511644400Z (note: file tempdata/cr_create_analysis_dataset_STSET_worms_ageband_1.dta not f
2021-07-20T15:39:52.511664400Z > ound)
2021-07-20T15:39:52.511670200Z file tempdata/cr_create_analysis_dataset_STSET_worms_ageband_1.dta saved
2021-07-20T15:39:52.511674700Z 
2021-07-20T15:39:52.511678600Z . 
2021-07-20T15:39:52.511682000Z . 
2021-07-20T15:39:52.511685800Z . * Close log file
2021-07-20T15:39:52.511689600Z . log close
2021-07-20T15:39:52.511693300Z       name:  <unnamed>
2021-07-20T15:39:52.511697300Z        log:  /workspace/log/WORMS_01_cr_analysis_dataset.log
2021-07-20T15:39:52.511701200Z   log type:  text
2021-07-20T15:39:52.511704900Z  closed on:  20 Jul 2021, 15:39:52
2021-07-20T15:39:52.511708400Z -------------------------------------------------------------------------------
2021-07-20T15:39:52.511712400Z 
2021-07-20T15:39:52.511716800Z . 
2021-07-20T15:39:52.511779500Z . 
2021-07-20T15:39:52.511795700Z end of do-file
2021-07-20T15:39:52.511801200Z 
2021-07-20T15:39:52.511999800Z . . file open output using "/tmp/tmp.UDsBNgN0XH", write text replace
2021-07-20T15:39:52.512307700Z 
2021-07-20T15:39:52.512319600Z . . file write output "success" 
2021-07-20T15:39:52.512324800Z 
2021-07-20T15:39:52.512409600Z . . file close output
2021-07-20T15:39:52.512776600Z 
2021-07-20T15:39:52.512790200Z . 
2021-07-20T15:39:52.512795400Z end of do-file
2021-07-20T15:39:52.512799600Z 
2021-07-20T15:39:52.512803100Z 
2021-07-20T15:39:52.548773200Z . 

state: succeeded
commit: none
docker_image_id: sha256:11980aa720220a1b39bf523f5a8a33270214c13876c30ee364e16265766f7f60
exit_code: 0
job_id: wt3vz37zwfz565u6
run_by_user: qc18278
created_at: 2021-07-20T15:38:48Z
started_at: 2021-07-20T15:39:46Z
completed_at: 2021-07-20T15:40:04Z

Completed successfully

outputs:
  log/WORMS_01_cr_analysis_dataset.log                           - moderately_sensitive
  tempdata/analysis_dataset_worms.dta                            - highly_sensitive    
  tempdata/analysis_dataset_worms_ageband_0.dta                  - highly_sensitive    
  tempdata/analysis_dataset_worms_ageband_1.dta                  - highly_sensitive    
  tempdata/cr_create_analysis_dataset_STSET_worms_ageband_0.dta  - highly_sensitive    
  tempdata/cr_create_analysis_dataset_STSET_worms_ageband_1.dta  - highly_sensitive    